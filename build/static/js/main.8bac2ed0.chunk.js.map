{"version":3,"sources":["store/types.ts","store/actions/updateUser.ts","store/actions/updateCart.ts","store/actions/index.ts","resources.ts","styles.ts","components/layout/Nav.tsx","components/pages/Redirect.tsx","ajax.ts","components/layout/NavLogin.tsx","components/layout/MobileNav.tsx","components/layout/Header.tsx","components/layout/Footer.tsx","components/layout/index.tsx","util.ts","components/pages/Home.tsx","components/pages/About.tsx","components/pages/Contact.tsx","components/pages/Profile.tsx","components/pages/NotFound.tsx","components/pages/Login.tsx","components/ListItem.tsx","components/List.tsx","components/pages/ListDisplay.tsx","images/loading.gif","components/Payment.tsx","components/pages/Checkout.tsx","App.tsx","reportWebVitals.ts","store/reducers/user.ts","store/reducers/cart.ts","store/reducers/index.ts","index.tsx"],"names":["UPDATE_USER","UPDATE_CART","LOG_IN","USERS","STORE","ORDERS","CHECKOUT","listItemTitleKeys","updateUser","payload","type","updateCart","updateUserAction","updateCartAction","url","window","location","host","includes","local","localStorage","getItem","console","warn","API","URL","routes","HOME","ABOUT","CONTACT","PROFILE","SIGN_UP","apiRoutes","Object","entries","ORDER","USER","ITEM","TAG","EDIT_PASSWORD","reduce","acc","cur","colors","Nav","user","useSelector","to","exact","activeClassName","admin","Redirect","history","useHistory","useEffect","push","signup","formData","a","axios","post","api","data","log","response","status","login","jwt","o","jwtDecode","auth","JSON","parse","username","setItem","stringify","defaults","headers","common","editPassword","put","Error","getStoreItems","params","defaultParams","quantity","getStoreItem","id","get","getOrders","uid","getUsers","Array","isArray","chargeCustomerCard","NavLogin","dispatch","useDispatch","store","cart","className","length","onClick","removeItem","MobileNav","useState","open","setOpen","hamburger","useRef","dropdown","current","forEach","ref","classList","add","remove","Header","Footer","Layout","Body","props","capitalize","string","toUpperCase","slice","updateCartStorage","carts","changingPassword","currentPassword","newPassword","confirmNewPassword","state","setState","error","setError","setChangingPassword","changePasswordBtn","style","backgroundColor","onChange","e","currentTarget","name","value","changePassword","preventDefault","oldPass","newPass","endsWith","onSubmit","required","placeholder","isLogin","password","setFormData","confirmPassword","setConfirmPassword","autoComplete","ListItem","item","setShowCaseItem","setMessage","titleKey","filter","map","key","val","undefined","items","showCaseItem","join","Date","toLocaleDateString","toString","List","list","message","adjustCartQuantity","itemId","drop","dropall","cartItem","find","splice","findIndex","confirm","src","img","alt","itemToAdd","Number","parseInt","reset","itemIndexInCart","children","innerHTML","addToCart","min","form","parentElement","listItems","setListItems","heading","setHeading","prompt","setPrompt","CheckoutForm","stripe","useStripe","elements","useElements","loadingGIF","handleSubmit","event","cardElement","getElement","CardElement","createPaymentMethod","card","paymentMethod","userID","stripeToken","display","then","catch","finally","clear","color","loading","Payment","loadStripe","stripePromise","App","userString","currentUser","json","guest","userCart","path","component","Home","render","About","Contact","Checkout","Profile","values","route","NotFound","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","combineReducers","createStore","reducer","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8bac2ed0.chunk.js","sourcesContent":["export const UPDATE_USER = 'UPDATE_USER';\r\nexport const UPDATE_CART = 'UPDATE_CART';\r\nexport const SIGN_UP = 'SIGN_UP';\r\nexport const LOG_IN = 'LOG_IN';\r\nexport const USERS = 'USERS';\r\nexport const STORE = 'STORE';\r\nexport const ORDERS = 'ORDERS';\r\nexport const CHECKOUT = 'CHECKOUT';\r\n\r\nexport type ListTypes = typeof STORE | typeof ORDERS | typeof USERS | typeof CHECKOUT;\r\n\r\nexport const listItemTitleKeys = {\r\n    [USERS]: 'username',\r\n    [ORDERS]: 'id',\r\n    [STORE]: 'name',\r\n    [CHECKOUT]: 'name'\r\n}\r\n","import { UPDATE_USER } from '../types';\r\nimport { User } from '../../types';\r\n\r\nconst updateUser = (payload : User|null) => ({ type: UPDATE_USER, payload });\r\n\r\nexport default updateUser;","import { OrderItem } from '../../types';\r\n\r\nconst updateCart = (payload : OrderItem[]) => ({ type: \"UPDATE_CART\", payload });\r\n\r\nexport default updateCart;","import updateUserAction from './updateUser';\r\nimport updateCartAction from \"./updateCart\";\r\n\r\nexport const updateUser = updateUserAction;\r\nexport const updateCart = updateCartAction;","let url = `http://54.151.78.250:8080/goshopping-api`;\r\n\r\nif (window.location.host.includes('localhost')) {\r\n    const local = localStorage.getItem('API_URL');\r\n    url = localStorage.getItem('API_URL') || `http://localhost:8080/goshopping`;\r\n\r\n    if (!local) {\r\n        console.warn(\"localStorage.getItem('API_URL') not set. \" +\r\n            \"api url will be set to \" + url);\r\n    }\r\n}\r\n\r\nexport const API = new URL(url);\r\n\r\nexport const routes = {\r\n    HOME: '/goshopping-ui',\r\n    ABOUT: '/goshopping-ui/about',\r\n    CONTACT: '/goshopping-ui/contact',\r\n    CHECKOUT: '/goshopping-ui/checkout',\r\n    PROFILE: '/goshopping-ui/profile',\r\n    SIGN_UP: '/goshopping-ui/signup',\r\n    LOG_IN: '/goshopping-ui/login',\r\n    ORDERS: '/goshopping-ui/orders',\r\n    STORE: '/goshopping-ui/items',\r\n    USERS: '/goshopping-ui/users'\r\n};\r\n\r\nexport const apiRoutes: any  = Object.entries({\r\n    LOG_IN: '/login',\r\n    ORDER: '/order',\r\n    USER: '/user',\r\n    ITEM: '/item',\r\n    TAG: '/tags',\r\n    EDIT_PASSWORD: '/user'\r\n}).reduce((acc, cur) => ({ ...acc, [cur[0]]: API + cur[1] }), {});","export const colors = {\r\n    DARKEST: 'red',\r\n    DARKER: '#ff2900',\r\n    LIGHTER: 'tomato',\r\n    LIGHTEST: '#ff9000',\r\n    GRAYSCALE: [ '#111', '#333', '#666', '#999', '#e4e4e4', 'white' ]\r\n}","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { routes } from '../../resources';\r\nimport { Store } from '../../types';\r\nimport { colors } from '../../styles';\r\n\r\nconst Nav = () => {\r\n    const user = useSelector(({ user } : Store) => user);\r\n\r\n    return <nav>\r\n        <ul>\r\n            <li> <NavLink to={routes.HOME} exact activeClassName=\"selected\">Home</NavLink> </li>\r\n            <li> <NavLink to={routes.STORE} exact activeClassName=\"selected\">Store</NavLink> </li>\r\n\r\n            {user &&\r\n                <li> <NavLink to={routes.ORDERS} exact activeClassName=\"selected\">{!user.admin && 'My '}Orders</NavLink> </li>\r\n            }\r\n            \r\n            {user?.admin &&\r\n                <li> <NavLink to={routes.USERS} exact activeClassName=\"selected\">Users</NavLink> </li>\r\n            }\r\n            <li> <NavLink to={routes.ABOUT} exact activeClassName=\"selected\">About</NavLink> </li>\r\n            <li> <NavLink to={routes.CONTACT} exact activeClassName=\"selected\">Contact</NavLink> </li>\r\n        </ul>\r\n\r\n        <style>{`\r\n            nav a {\r\n                color: ${colors.GRAYSCALE[5]};\r\n                outline: none;\r\n                user-select: none;\r\n                font-size: 1.25rem;\r\n            }\r\n\r\n            nav .selected {\r\n                color: ${colors.LIGHTEST};\r\n            }\r\n\r\n            nav a:hover, nav a:focus {\r\n                color: ${colors.LIGHTER};\r\n            }\r\n\r\n            nav a:active {\r\n                color: ${colors.DARKER};\r\n            }\r\n        `}</style>\r\n    </nav>\r\n}\r\n\r\nexport default Nav;\r\n","import { useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { routes } from '../../resources';\r\n\r\ninterface Props {\r\n    to? : string;\r\n}\r\n\r\n// Redirect to any route by passing it to the \"to\" property. Redirects to home by default.\r\nconst Redirect = ({ to=routes.HOME } : Props) => {\r\n    const history = useHistory();\r\n    useEffect(() => history.push(to));\r\n\r\n    return <></>\r\n}\r\n\r\nexport default Redirect;\r\n","import axios from 'axios';\r\nimport { apiRoutes as api } from './resources';\r\nimport * as models from './types';\r\nimport jwtDecode from 'jwt-decode';\r\n\r\n// Authentication/Registration\r\n\r\nexport async function signup(formData : models.PostableUser) : Promise<models.User>{\r\n    try {\r\n        const { data } = await axios.post(api.USER, formData);\r\n        return data as models.User;\r\n    } catch (e) {\r\n        console.log(e);\r\n        throw e.response.status;\r\n    }\r\n}\r\n\r\nexport async function login(formData : models.LoginRequest) : Promise<models.User>{\r\n    try {\r\n        const { data: { jwt } } = await axios.post<models.LoginResponse>(api.LOG_IN, formData);\r\n        const o : any = jwtDecode(jwt);\r\n        const auth : models.Auth = JSON.parse(o.auth);\r\n        const user : models.User = { ...auth, username: formData.username };\r\n        localStorage.setItem('user', JSON.stringify(user));\r\n        localStorage.setItem('jwt', jwt);\r\n        axios.defaults.headers.common['Authorization'] = 'Bearer ' + jwt;\r\n        return user;\r\n    } catch (e) {\r\n        console.log(e);\r\n        throw e.response.status;\r\n    }\r\n}\r\n\r\n/** Reset local storage */\r\nexport function logout() {\r\n    localStorage.removeItem('user');\r\n    localStorage.removeItem('jwt');\r\n    delete axios.defaults.headers.common['Authorization'];\r\n}\r\n\r\nexport async function editPassword(formData : models.PutableUser) : Promise<models.User|null> {\r\n    try {\r\n        const { data } = await axios.put(api.EDIT_PASSWORD, formData);\r\n        return data as models.User;\r\n    } catch (e) {\r\n        console.log(e);\r\n        throw new Error('Error updating password');\r\n    }\r\n}\r\n\r\n\r\n// Store Items\r\n\r\nexport async function getStoreItems(params? : models.ItemSearchQueryParams) : Promise<models.Item[]> {\r\n    const defaultParams: models.ItemSearchQueryParams = {\r\n        quantity: 10\r\n    };\r\n\r\n    params = {\r\n        ...defaultParams,\r\n        ...(params || {})\r\n    }\r\n\r\n    try {\r\n        const { data } = await axios({\r\n            url: api.ITEM,\r\n            params\r\n        });\r\n        return (data as models.Item[]);\r\n    } catch (e) {\r\n        console.log(e);\r\n        return [];\r\n    }\r\n}\r\n\r\nexport async function getStoreItem(id : number) : Promise<models.Item|null> {\r\n    try {\r\n        const { data } = await axios.get(api.ITEM + `/${id}`);\r\n        return (data as models.Item);\r\n    } catch (e) {\r\n        console.log(e);\r\n        return null;\r\n    }\r\n}\r\n\r\nexport async function deleteStoreItem(id : number) {\r\n    try {\r\n        axios.delete(api.ITEM + `/${id}`);\r\n    } catch (e) {\r\n        console.log(e);\r\n        throw new Error('Failed to delete item');\r\n    }\r\n}\r\n\r\n\r\nexport async function createStoreItem(formData : models.PostableItem) : Promise<models.Item> {\r\n    try {\r\n        const { data } = await axios.post(api.ITEM, formData);\r\n        return data;\r\n    } catch (e) {\r\n        console.log(e);\r\n        throw new Error('Failed to create item');\r\n    }\r\n}\r\n\r\nexport async function updateStoreItem(formData : models.PutableItem) : Promise<models.Item> {\r\n    try {\r\n        const { data } = await axios.put(api.ITEM + `/${formData.id}`, formData);\r\n        return data;\r\n    } catch (e) {\r\n        throw new Error('Failed to update item');\r\n    }\r\n}\r\n\r\n// Orders\r\n\r\nexport async function getOrders(uid? : number) : Promise<models.Order[]> {\r\n    try {\r\n        const { data } = await axios.get(api.ORDER + (uid ? `?uid=${uid}` : ''));\r\n        return data as models.Order[];\r\n    } catch (e) {\r\n        console.log(e);\r\n        return [];\r\n    }\r\n}\r\n\r\nexport async function getOrderById(id : number) : Promise<models.Order|null> {\r\n    try {\r\n        const { data } = await axios.get(api.ORDER + `/${id}`);\r\n        return data as models.Order;\r\n    } catch (e) {\r\n        console.log(e);\r\n        return null;\r\n    }\r\n}\r\n\r\nexport async function createOrder(formData : models.PostableOrder) : Promise<models.Order> {\r\n    try {\r\n        const { data } = await axios.post<models.Order>(api.ORDER, formData);\r\n        return data as models.Order;\r\n    } catch (e) {\r\n        console.log(e);\r\n        throw new Error('Failed to create order');\r\n    }\r\n}\r\n\r\n\r\n// Users\r\n\r\nexport async function getUsers() : Promise<models.User[]> {\r\n    try {\r\n        const { data } = await axios.get<models.User[]>(api.USER);\r\n        return (Array.isArray(data) ? data as models.User[] : []);\r\n    } catch (e) {\r\n        console.log(e);\r\n        return [];\r\n    }\r\n}\r\n\r\nexport async function getUser(id : number) : Promise<models.User|null> {\r\n    try {\r\n        const { data } = await axios.get<models.User>(api.USER + `/${id}`);\r\n        return data;\r\n    } catch (e) {\r\n        console.log(e);\r\n        return null;\r\n    }\r\n}\r\n\r\nexport async function deleteUser(id : number) {\r\n    try {\r\n        axios.delete(api.USER + `/${id}`);\r\n    } catch (e) {\r\n        console.log(e);\r\n        throw new Error('Failed to delete user');\r\n    }\r\n}\r\n\r\n\r\n// Tags\r\n\r\nexport async function getTags() : Promise<models.Tag[]> {\r\n    try {\r\n        const { data } = await axios.get(api.TAG);\r\n        return (Array.isArray(data) ? data as models.Tag[] : []);\r\n    } catch (e) {\r\n        console.log(e);\r\n        return [];\r\n    }\r\n}\r\n\r\n\r\n// Payment\r\n\r\nexport async function chargeCustomerCard(formData: models.PostableOrder): Promise<models.OrderResponse>{\r\n    try {\r\n        const {data, status} = await axios.post(api.ORDER, formData);\r\n  \r\n        const response:models.OrderResponse = {\r\n            data,\r\n            status,\r\n        };\r\n        return response;\r\n    } catch (e) {\r\n        console.log(e);\r\n        throw e;\r\n    }\r\n} ","import { useSelector, useDispatch } from \"react-redux\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { routes } from \"../../resources\";\r\nimport { Store } from \"../../types\";\r\nimport { updateUser } from \"../../store/actions\";\r\nimport { colors } from \"../../styles\";\r\nimport Redirect from \"../pages/Redirect\";\r\nimport { logout } from \"../../ajax\";\r\n\r\nconst NavLogin = () => {\r\n  const dispatch = useDispatch();\r\n  const { user, cart } = useSelector((store : Store) => store);\r\n\r\n  const logOut = () => {\r\n    // Reset local storage\r\n    logout();\r\n    dispatch(updateUser(null));\r\n    return <Redirect />;\r\n  };\r\n\r\n  return (\r\n    <div className=\"NavLogin\">\r\n      <ul>\r\n        <li className=\"cart\">\r\n          <NavLink to={routes.CHECKOUT}>\r\n            <span>\r\n              <i className=\"fas fa-shopping-cart\"></i>\r\n              <span>{cart ? cart.length : 0}</span>\r\n            </span>\r\n          </NavLink>\r\n        </li>\r\n        {user ? (\r\n          <>\r\n            <li className=\"profile\" key=\"profile\">\r\n              <NavLink to={routes.PROFILE}>My Profile</NavLink>\r\n            </li>\r\n            <li key=\"logout\">\r\n              <button onClick={logOut}>Log out</button>\r\n            </li>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <li key=\"signup\">\r\n              <NavLink to={routes.SIGN_UP} exact activeClassName=\"selected\">\r\n                Sign up\r\n              </NavLink>\r\n            </li>\r\n            <li key=\"login\">\r\n              <NavLink to={routes.LOG_IN} exact activeClassName=\"selected\">\r\n                Log in\r\n              </NavLink>\r\n            </li>\r\n          </>\r\n        )}\r\n      </ul>\r\n\r\n      <style>{`\r\n            .NavLogin ul {\r\n                gap: 1.25rem;\r\n                height: 0;\r\n            }\r\n\r\n            .NavLogin a, .NavLogin button {\r\n                background-color: ${colors.LIGHTER};\r\n                border: none;\r\n                border-radius: 15px;\r\n                padding: .5rem .95rem;\r\n                cursor: pointer;\r\n                color: ${colors.GRAYSCALE[5]};\r\n                font-size: .95rem;\r\n                outline: none;\r\n                user-select: none;\r\n            }\r\n\r\n            .NavLogin button {\r\n                padding: .57rem .95rem;\r\n            }\r\n\r\n            .NavLogin .selected {\r\n                background-color: ${colors.DARKER};\r\n            }\r\n            \r\n            .NavLogin a:hover, .NavLogin a:focus, .NavLogin button:hover, .NavLogin button:focus {\r\n                background-color: ${colors.LIGHTEST};\r\n            }\r\n\r\n            .NavLogin a:active, .NavLogin button:active {\r\n                background-color: ${colors.DARKEST};\r\n            }\r\n\r\n            .NavLogin .profile a {\r\n                background-color: transparent;\r\n                color: ${colors.LIGHTEST};\r\n                font-weight: 500;\r\n                font-size: 1rem;\r\n                margin-left: -.5rem;\r\n            }\r\n\r\n            .NavLogin .profile a:hover, .NavLogin .profile a:focus {\r\n                color: ${colors.LIGHTER};\r\n            }\r\n\r\n            .NavLogin .profile a:active {\r\n                color: ${colors.DARKER};\r\n            }\r\n\r\n            .NavLogin .profile a {\r\n                background-color: transparent;\r\n                color: ${colors.LIGHTEST};\r\n                font-weight: 500;\r\n                font-size: 1rem;\r\n            }\r\n\r\n            .NavLogin .profile a:hover, .NavLogin .profile a:focus {\r\n                color: ${colors.LIGHTER};\r\n            }\r\n\r\n            .NavLogin .profile a:active {\r\n                color: ${colors.DARKER};\r\n            }\r\n\r\n            .NavLogin .cart {\r\n              margin-right: -.75rem;\r\n              margin-bottom: .15rem;\r\n            }\r\n            \r\n            .NavLogin .cart a {\r\n                background-color: transparent;\r\n                font-size: 1.5rem;\r\n            }\r\n\r\n            .NavLogin .fa-shopping-cart {\r\n                margin-right: .5rem;\r\n                transition: transform 100ms ease-out;\r\n            }\r\n\r\n            .NavLogin .fa-shopping-cart:hover {\r\n              transform: scale(1.125) translateY(-.1rem);\r\n            }\r\n        `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NavLogin;\r\n","import { useState, useEffect, useRef } from 'react';\r\nimport { colors } from '../../styles';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { routes } from '../../resources';\r\nimport { useSelector } from 'react-redux';\r\nimport { Store } from '../../types';\r\n\r\nconst MobileNav = () => {\r\n    const [open, setOpen] = useState<boolean>(false);\r\n    const hamburger = useRef<HTMLDivElement>(null);\r\n    const dropdown = useRef<HTMLUListElement>(null);\r\n    const user = useSelector(({ user } : Store) => user);\r\n\r\n    useEffect(() => {\r\n        if (hamburger?.current && dropdown?.current) {\r\n            [hamburger.current, dropdown.current].forEach(ref => open\r\n                ? ref.classList.add('nav-open')\r\n                : ref.classList.remove('nav-open')\r\n            );\r\n        }\r\n    }, [open]);\r\n\r\n    return (\r\n        <div className=\"MobileNav\">\r\n            <div className=\"hamburger\" ref={hamburger} />\r\n            <span className=\"hamburger-click-region\" onClick={() => setOpen(!open)} />\r\n            <ul ref={dropdown}>\r\n                <li> <NavLink to={routes.HOME} exact activeClassName=\"selected\">Home</NavLink> </li>\r\n                <li> <NavLink to={routes.STORE} exact activeClassName=\"selected\">Store</NavLink> </li>\r\n\r\n                {user &&\r\n                    <li> <NavLink to={routes.ORDERS} exact activeClassName=\"selected\">{!user.admin && 'My '}Orders</NavLink> </li>\r\n                }\r\n                \r\n                {user?.admin &&\r\n                    <li> <NavLink to={routes.USERS} exact activeClassName=\"selected\">Users</NavLink> </li>\r\n                }\r\n                <li> <NavLink to={routes.ABOUT} exact activeClassName=\"selected\">About</NavLink> </li>\r\n                <li> <NavLink to={routes.CONTACT} exact activeClassName=\"selected\">Contact</NavLink> </li>\r\n            </ul>\r\n\r\n            <style>{`\r\n                .MobileNav .hamburger, .MobileNav .hamburger-click-region {\r\n                    position: absolute;\r\n                    left: 1.5rem;\r\n                    top: 2.45rem;\r\n                }\r\n\r\n                .MobileNav .hamburger,\r\n                .MobileNav .hamburger::before,\r\n                .MobileNav .hamburger::after {\r\n                    width: 1.725rem;\r\n                    height: 2.25px;\r\n                    background-color: ${colors.GRAYSCALE[5]};\r\n                    transition: transform 250ms ease-in-out,\r\n                                opacity 250ms ease-in-out;\r\n                }\r\n\r\n                .MobileNav .hamburger::before,\r\n                .MobileNav .hamburger::after {\r\n                    content: '';\r\n                    position: absolute;\r\n                    left: 0;\r\n                    bottom: 6px;\r\n                }\r\n\r\n                .MobileNav .hamburger::after {\r\n                    top: 6px;\r\n                }\r\n\r\n                .MobileNav .hamburger-click-region {\r\n                    height: 21px;\r\n                    width: 2rem;\r\n                    cursor: pointer;\r\n                    top: 1.5rem;\r\n                }\r\n\r\n                .MobileNav .nav-open.hamburger {\r\n                    transform: rotate(45deg);\r\n                }\r\n\r\n                .MobileNav .nav-open.hamburger::before {\r\n                    opacity: 0;\r\n                }\r\n\r\n                .MobileNav .nav-open.hamburger::after {\r\n                    transform: rotate(90deg) translateX(-5.5px);\r\n                }\r\n\r\n                .MobileNav ul {\r\n                    flex-direction: column;\r\n                    gap: 0;\r\n                    align-items: flex-start;\r\n                    background-color: ${colors.GRAYSCALE[0]};\r\n                    position: absolute;\r\n                    bottom: 0;\r\n                    left: 0;\r\n                    z-index: -1;\r\n                    padding: 20rem 7.9rem 1.1rem 1rem;\r\n                    transition: bottom 300ms ease-out;\r\n                    border-radius: 12px;\r\n                }\r\n\r\n                .MobileNav ul.nav-open {\r\n                    bottom: ${!user ? -10.6 : !user.admin ? -12.6 : -14.7}rem;\r\n                }\r\n\r\n                .MobileNav li {\r\n                    margin: .5rem;\r\n                    position: relative;\r\n                    white-space: nowrap;\r\n                }\r\n\r\n                .MobileNav li a {\r\n                    color: ${colors.LIGHTEST};\r\n                    outline: none;\r\n                    user-select: none;\r\n                }\r\n    \r\n                .MobileNav .selected {\r\n                    color: ${colors.GRAYSCALE[5]};\r\n                }\r\n    \r\n                .MobileNav a:hover, .MobileNav a:focus {\r\n                    color: ${colors.LIGHTER};\r\n                }\r\n    \r\n                .MobileNav a:active {\r\n                    color: ${colors.DARKER};\r\n                }\r\n\r\n                .MobileNav li::after {\r\n                    content: '';\r\n                    height: 1px;\r\n                    width: 100%;\r\n                    position: absolute;\r\n                    bottom: -4px;\r\n                    left: 0;\r\n                    background-color: ${colors.GRAYSCALE[5]};\r\n                }\r\n            `}</style>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MobileNav;\r\n","import React from 'react';\r\nimport Nav from './Nav';\r\nimport NavLogin from './NavLogin';\r\nimport MobileNav from './MobileNav';\r\nimport { colors } from '../../styles';\r\n\r\nconst Header = () => {\r\n    return <header>\r\n        <MobileNav />\r\n        <strong className=\"logo\">GoShopping!</strong>\r\n        <Nav />\r\n        <NavLogin />\r\n\r\n        <style>{`\r\n            header {\r\n                background-color: ${colors.GRAYSCALE[0]};\r\n                height: 5rem;\r\n                color: ${colors.GRAYSCALE[5]};\r\n                display: flex;\r\n                align-items: center;\r\n                justify-content: space-around;\r\n                position: relative;\r\n            }\r\n\r\n            header .logo {\r\n                color: ${colors.LIGHTEST};\r\n                position: absolute;\r\n                top: 1.85rem;\r\n                left: .9rem;\r\n                user-select: none;\r\n            }\r\n        `}</style>\r\n    </header>\r\n}\r\n\r\nexport default Header;\r\n","import { colors } from '../../styles';\r\n\r\nconst Footer = () => {\r\n    return <footer>\r\n        <span>\r\n            <ul>\r\n                <li>Md Abul Kashem</li>\r\n                <li>Nick Barak</li>\r\n                <li>Zack Garner</li>\r\n                <li>Hisham Saymeh</li>\r\n                <li>Vincent Sevilla</li>\r\n                <li>Eric Terreri</li>\r\n            </ul>\r\n            <div>&copy; 2020 Revature</div>\r\n        </span>\r\n\r\n        <style>{`\r\n            footer, footer span {\r\n                display: flex;\r\n            }\r\n\r\n            footer {\r\n                justify-content: center;\r\n                align-items: center;\r\n                background-color: ${colors.GRAYSCALE[1]};\r\n                color: ${colors.GRAYSCALE[5]};\r\n                text-align: center;\r\n            }\r\n\r\n            footer span {\r\n                flex-direction: column;\r\n                gap: .5rem;\r\n            }\r\n            \r\n            footer ul {\r\n                gap: .65rem;\r\n                margin-bottom: .25rem;\r\n            }\r\n\r\n            footer div {\r\n                user-select: none;\r\n            }\r\n\r\n            footer div {\r\n                user-select: none;\r\n            }\r\n        `}</style>\r\n    </footer>\r\n}\r\n\r\nexport default Footer;\r\n","import React, { ComponentType } from 'react';\r\nimport Header from './Header';\r\nimport Footer from './Footer';\r\n\r\n// Higher-order component for wrapping dynamic body content with commonly reused components\r\n// Requires no code modifications\r\nconst Layout = (Body : ComponentType<any>) => (props : any) =>\r\n    <>\r\n        <Header />\r\n        <div className=\"body\"> <Body {...props} /> </div>\r\n        <Footer />\r\n    </>\r\n\r\nexport default Layout;\r\n","import { Location } from 'history';\r\nimport { User, OrderItem } from './types';\r\n\r\n\r\nexport function capitalize(string : string) {\r\n    return string[0].toUpperCase() + string.slice(1);\r\n}\r\n\r\nexport function getPathVar(location : Location) {\r\n    return location.pathname.split(/\\/.*?\\//)[1];\r\n}\r\n\r\nexport const updateCartStorage = (user : User|null, cart : OrderItem[]) => {\r\n    const carts = JSON.parse( (localStorage.getItem(\"carts\") || '{}') );\r\n    carts[user ? user.id : 'guest'] = cart;\r\n    localStorage.setItem(\"carts\", JSON.stringify(carts));\r\n}\r\n","import Layout from '../layout';\r\nimport { useSelector } from 'react-redux';\r\nimport { Store } from '../../types';\r\nimport { capitalize } from '../../util';\r\n\r\nconst Home = () => {\r\n    const user = useSelector(({ user } : Store) => user);\r\n\r\n    return <div className=\"Home\">\r\n        <h1 className=\"heading\">Home</h1>\r\n        <div className=\"prompt\">\r\n            {user\r\n                ? `Welcome, ${capitalize(user.username)}!`\r\n                : 'Log in or sign up today!'}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Layout(Home);\r\n","import Layout from '../layout';\r\n\r\nconst About = () => {\r\n\r\n    return <div className=\"About\">\r\n        <h1 className=\"heading\">About</h1>\r\n        <div className=\"prompt\">We are a generic ecommerce company!</div>\r\n        <section>\r\n            <label><strong>Who We Are</strong></label>\r\n            <div>Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolores facilis aliquid consectetur, similique vero quos, totam nihil cum harum blanditiis tempore ab quam quasi eum! Ullam reprehenderit impedit quasi voluptate facilis ipsa sit! Ad, odit cupiditate. Aliquid, deleniti. Ea velit minus at voluptatibus deleniti exercitationem ducimus laudantium quasi ipsa reiciendis!</div>\r\n        </section>\r\n        <section>\r\n            <label><strong>What We Do</strong></label>\r\n            <div>Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolores facilis aliquid consectetur, similique vero quos, totam nihil cum harum blanditiis tempore ab quam quasi eum! Ullam reprehenderit impedit quasi voluptate facilis ipsa sit! Ad, odit cupiditate. Aliquid, deleniti. Ea velit minus at voluptatibus deleniti exercitationem ducimus laudantium quasi ipsa reiciendis!</div>\r\n        </section>\r\n        <section>\r\n            <label><strong>Our Plans for the Future</strong></label>\r\n            <div>Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolores facilis aliquid consectetur, similique vero quos, totam nihil cum harum blanditiis tempore ab quam quasi eum! Ullam reprehenderit impedit quasi voluptate facilis ipsa sit! Ad, odit cupiditate. Aliquid, deleniti. Ea velit minus at voluptatibus deleniti exercitationem ducimus laudantium quasi ipsa reiciendis!</div>\r\n        </section>\r\n        \r\n        <style>{`\r\n            .About section {\r\n                margin-bottom: 1rem;\r\n            }\r\n        `}</style>\r\n    </div>\r\n}\r\n\r\nexport default Layout(About);\r\n","import Layout from '../layout';\r\n\r\nconst Contact = () => {\r\n\r\n    return <div className=\"Contact\">\r\n        <h1 className=\"heading\">Contact</h1>\r\n        <div className=\"prompt\">Feel free to reach out to our staff!</div>\r\n        <ul>\r\n            <li>\r\n                <strong>email: </strong>\r\n                <span>hr@goshopping.com</span>\r\n            </li>\r\n            <li>\r\n                <strong>phone: </strong>\r\n                <span>(XXX) XXX-XXXX</span>\r\n            </li>\r\n        </ul>\r\n\r\n        <style>{`\r\n            .Contact ul {\r\n                flex-direction: column;\r\n                width: 15rem;\r\n                align-items: flex-start;\r\n            }\r\n        `}</style>\r\n    </div>\r\n}\r\n\r\nexport default Layout(Contact);\r\n","import { useState, useEffect, useRef, FormEvent } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport Layout from '../layout';\r\nimport { Store } from '../../types';\r\nimport Redirect from './Redirect';\r\nimport { editPassword } from '../../ajax';\r\nimport { colors } from '../../styles';\r\nimport { capitalize } from '../../util';\r\nimport { useDispatch } from 'react-redux';\r\nimport updateUser from '../../store/actions/updateUser';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { routes } from '../../resources';\r\ninterface ProfileState {\r\n    changingPassword : boolean;\r\n    currentPassword : string;\r\n    newPassword : string;\r\n    confirmNewPassword : string;\r\n}\r\n\r\nconst Profile = () => {\r\n    const user = useSelector(({ user } : Store) => user);\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const [state, setState] = useState<ProfileState>({\r\n        changingPassword: false,\r\n        currentPassword: '',\r\n        newPassword: '',\r\n        confirmNewPassword: ''\r\n    });\r\n    const [error, setError] = useState<string>('');\r\n    const [changingPassword, setChangingPassword] = useState<boolean>(false);\r\n    const changePasswordBtn = useRef<HTMLButtonElement>(null);\r\n\r\n    useEffect(() => {\r\n        if (changePasswordBtn?.current) {\r\n            changePasswordBtn.current.style.backgroundColor = (changingPassword ? colors.LIGHTER : colors.GRAYSCALE[1]);\r\n        }\r\n    }, [changingPassword]);\r\n    \r\n    if (!user) return <Redirect />;\r\n\r\n    const onChange = (e : FormEvent<HTMLInputElement>) => {\r\n        setState({ ...state, [e.currentTarget.name]: e.currentTarget.value });\r\n    }\r\n\r\n    const changePassword = async (e : FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n        if (state.newPassword !== state.confirmNewPassword) return setError('Passwords must match');\r\n        try {\r\n            const user = await editPassword({ oldPass: state.currentPassword, newPass: state.newPassword });\r\n            setError('Password Changed');\r\n            dispatch(updateUser(user));\r\n            //await setTimeout(()=>{console.log('Redirection')}, 2000)\r\n            history.push(routes.HOME);\r\n        } catch (e) { \r\n            switch (e) {\r\n                case 400:\r\n                    return setError('Ivalid password');\r\n                default:\r\n                    setError('Something went wrong');\r\n            }    \r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"Profile\">\r\n            <h1 className=\"heading\">{user && capitalize(user.username)}{user && (user.username.endsWith('s') ? \"' \" : \"'s \")}Profile</h1>\r\n            <div className=\"prompt\">View and edit your account information here</div>\r\n            <div className=\"error\">{error}</div>\r\n            <section>\r\n                <button className=\"button\" ref={changePasswordBtn} onClick={() => setChangingPassword(!changingPassword)}>Change Password</button>\r\n                {changingPassword &&\r\n                    <form onSubmit={changePassword}>\r\n                        <input type=\"password\" required name=\"currentPassword\" placeholder=\"current password\" onChange={onChange} />\r\n                        <input type=\"password\" required name=\"newPassword\" placeholder=\"new password\" onChange={onChange} />\r\n                        <input type=\"password\" required name=\"confirmNewPassword\" placeholder=\"confirm new password\" onChange={onChange} />\r\n                        <button>Submit</button>\r\n                    </form>\r\n                }\r\n            </section>\r\n\r\n            <style>{`\r\n                .Profile .button {\r\n                    padding: .6rem .8rem;\r\n                    font-size: .9rem;\r\n                    margin-bottom: 1.25rem;\r\n                }\r\n\r\n                .Profile form {\r\n                    width: 15rem;\r\n                    margin-bottom: 2rem;\r\n                }\r\n    \r\n                .Profile .error {\r\n                    margin-top: .5rem;\r\n                }\r\n            `}</style>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Layout(Profile);\r\n","import React from 'react';\r\nimport { routes } from '../../resources';\r\nimport { Link } from 'react-router-dom';\r\nimport Layout from '../layout';\r\nimport { colors } from '../../styles';\r\n\r\nconst NotFound = () => {\r\n    return <div className=\"NotFound\">\r\n        <h1 className=\"heading\">Not Found</h1>\r\n        <div className=\"prompt\">We're sorry! This page doesn't exist.</div>\r\n        <Link to={routes.HOME}>Back to Home</Link>\r\n\r\n        <style>{`\r\n            .NotFound .prompt {\r\n                margin-bottom: 1.45rem;\r\n            }\r\n\r\n            .NotFound a {\r\n                background-color: ${colors.LIGHTER};\r\n                border: none;\r\n                border-radius: 15px;\r\n                padding: .5rem .95rem;\r\n                cursor: pointer;\r\n                color: ${colors.GRAYSCALE[5]};\r\n                font-size: .95rem;\r\n                outline: none;\r\n            }\r\n\r\n            .NotFound .selected {\r\n                background-color: ${colors.DARKER};\r\n            }\r\n            \r\n            .NotFound a:hover, .NotFound a:focus {\r\n                background-color: ${colors.LIGHTEST};\r\n            }\r\n\r\n            .NotFound a:active {\r\n                background-color: ${colors.DARKEST};\r\n            }\r\n        `}</style>\r\n    </div>\r\n}\r\n\r\nexport default Layout(NotFound);\r\n","import { useState, FormEvent } from 'react';\r\nimport { SIGN_UP, LOG_IN } from '../../store/types';\r\nimport Layout from '../layout';\r\nimport { useDispatch } from 'react-redux';\r\nimport { updateUser } from '../../store/actions';\r\nimport { PostableUser } from '../../types';\r\nimport Redirect from './Redirect';\r\nimport { login, signup } from '../../ajax';\r\n\r\ninterface Props {\r\n    // Tell the component which version to render with string types (exported from store/types)\r\n    type : typeof SIGN_UP | typeof LOG_IN;\r\n}\r\n\r\nconst Login = ({ type } : Props) => {\r\n    const isLogin = (type === LOG_IN);\r\n    const dispatch = useDispatch();\r\n    const [formData, setFormData] = useState<PostableUser>({ username: '', password: '' });\r\n    const [confirmPassword, setConfirmPassword] = useState<string>('');\r\n    const [error, setError] = useState<string>('');\r\n\r\n    const onChange = (e : FormEvent<HTMLInputElement>) => setFormData({ ...formData, [e.currentTarget.name]: e.currentTarget.value });\r\n\r\n    const onSubmit = async (e : FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n        if (!isLogin && (formData.password !== confirmPassword)) return setError('Passwords must match');\r\n\r\n        try {\r\n            const user = await (isLogin ? login(formData) : signup(formData));\r\n            dispatch( updateUser(user) );\r\n            return <Redirect />;\r\n        } catch (status) {\r\n            switch (status) {\r\n                case 401:\r\n                    return setError('Ivalid credentials');\r\n                case 409:\r\n                    return setError('Username not available');\r\n                default:\r\n                    setError('Something went wrong');\r\n            }    \r\n        }\r\n    }\r\n\r\n    return <div className=\"Login\">\r\n        <h1 className=\"heading\">{isLogin ? 'Log in' : 'Sign up'}</h1>\r\n        <div className=\"error\">{error}</div>\r\n        <div className=\"prompt\">Please submit your credentials below</div>\r\n        <form onSubmit={onSubmit} autoComplete=\"off\">\r\n            <input type=\"text\" required name=\"username\" placeholder=\"username\" onChange={onChange} />\r\n            <input type=\"password\" required name=\"password\" placeholder=\"password\" onChange={onChange} />\r\n            {!isLogin && <input type=\"password\" required name=\"confirmPassword\" placeholder=\"confirm password\" onChange={e => setConfirmPassword(e.currentTarget.value)} />}\r\n            <button>Submit</button>\r\n        </form>\r\n\r\n        <style>{`\r\n            .Login form {\r\n                width: 15rem;\r\n            }\r\n\r\n            .Login .error {\r\n                margin-top: .5rem;\r\n            }\r\n        `}</style>\r\n    </div>\r\n}\r\n\r\nexport default Layout(Login);\r\n","import { ListItemTypes, Order } from '../types';\r\nimport { colors } from '../styles';\r\nimport { ListTypes, listItemTitleKeys } from '../store/types';\r\nimport { useState } from 'react';\r\nimport { getStoreItem } from '../ajax';\r\n\r\n\r\ninterface Props {\r\n    item : ListItemTypes;\r\n    type : ListTypes;\r\n    setShowCaseItem: React.Dispatch<React.SetStateAction<ListItemTypes>>;\r\n    setMessage: React.Dispatch<React.SetStateAction<string>>;\r\n}\r\n\r\nconst ListItem = ({ type, item,setShowCaseItem, setMessage }: Props) => {\r\n    const [titleKey] = useState(listItemTitleKeys[type]);\r\n\r\n    return <div className=\"ListItem\">\r\n        <strong className=\"title\">{item[titleKey as keyof typeof item]}</strong>\r\n        <table className=\"list-item-details\">\r\n            <tbody>\r\n                <tr>\r\n                    {Object.entries(item)\r\n                        .filter(([key]) => key !== titleKey)\r\n                        .map(([key]) => <th key={key}>{key}</th>)\r\n                    }\r\n                </tr>\r\n                <tr>\r\n                    {Object.entries(item)\r\n                        .filter(([key]) => key !== titleKey)\r\n                        .map(([key, val]) => <td key={key}>\r\n                            {(![null, undefined, ''].includes(val))\r\n                                ? Array.isArray(val)\r\n                                    ? key ===\"items\" \r\n                                        ? (item as Order).items.map(({name, id})=><span className=\"orderItemName\" onClick={async()=>{\r\n                                        const showCaseItem= await  getStoreItem(id);\r\n                                           if(showCaseItem){\r\n                                            setShowCaseItem(showCaseItem as ListItemTypes);\r\n                                            setMessage(\"\");\r\n                                           }else{\r\n                                               setMessage(\"Unable to load item\");\r\n                                           }\r\n                                        }}>{name}, </span>)    \r\n                                        : val.join(', ')\r\n                                    : (key ===\"date\") \r\n                                        ? new Date(val).toLocaleDateString()\r\n                                        : val.toString()\r\n                                : 'Not available'\r\n                            }\r\n                        </td>\r\n                    )}\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n\r\n        <style>{`\r\n            .ListItem .list-item-details {\r\n                font-family: Arial, Helvetica, sans-serif;\r\n                border-collapse: collapse;\r\n                width: 100%;\r\n            }\r\n                \r\n            .ListItem .list-item-details td, .ListItem .list-item-details th {\r\n                border: 1px solid #ddd;\r\n                padding: 8px;\r\n            }\r\n                \r\n            .ListItem .list-item-details tr:nth-child(even){ background-color: #f2f2f2; }\r\n                \r\n            .ListItem .list-item-details tr:hover { background-color: #ddd; }\r\n                \r\n            .ListItem .list-item-details th {\r\n                padding-top: 12px;\r\n                padding-bottom: 12px;\r\n                text-align: left;\r\n                background-color: ${colors.LIGHTEST};\r\n                color: white;\r\n            }\r\n\r\n            .ListItem .title {\r\n                display: block;\r\n                font-size: 1.35rem;\r\n                text-decoration: underline;\r\n                margin-bottom: .25rem;\r\n                margin-left: .125rem;\r\n                transition: color 200ms ease-out;\r\n            }\r\n\r\n            .ListItem .title:hover {\r\n                color: ${colors.DARKEST};\r\n            }\r\n            .ListItem .orderItemName{\r\n                cursor: pointer;\r\n\r\n            }\r\n            .ListItem .orderItemName:hover{\r\n                text-decoration: underline;\r\n                color: ${colors.LIGHTEST}\r\n\r\n            }\r\n        `}</style>\r\n    </div>\r\n}\r\n\r\nexport default ListItem;\r\n","import { ListItemTypes, Item, OrderItem, Tag, Store } from \"../types\";\r\nimport { ListTypes, STORE, CHECKOUT } from \"../store/types\";\r\nimport ListItem from \"./ListItem\";\r\nimport { updateCart } from \"../store/actions\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { updateCartStorage } from '../util';\r\nimport {useState ,FormEvent } from 'react';\r\n\r\ninterface Props {\r\n  list: ListItemTypes[];\r\n  type: ListTypes;\r\n}\r\n\r\nconst List = ({ list, type }: Props) => {\r\n  const dispatch = useDispatch();\r\n  const { user, cart } = useSelector((store : Store) => store);\r\nconst [showCaseItem, setShowCaseItem] = useState<ListItemTypes>(list[0]);\r\nconst [message, setMessage] = useState(\"\");\r\n  const addToCart = (e : FormEvent<HTMLFormElement>, item : Item) => {\r\n    e.preventDefault();\r\n    const itemToAdd : OrderItem = {\r\n        ...item,\r\n        quantity: Number.parseInt(e.currentTarget.quantity?.value) || 1\r\n    };\r\n    e.currentTarget.reset();\r\n    const itemIndexInCart = cart.findIndex(cartItem => cartItem.id === itemToAdd.id);\r\n\r\n    if (itemIndexInCart > -1) {\r\n        cart[itemIndexInCart].quantity += itemToAdd.quantity;\r\n    } else cart.push(itemToAdd);\r\n\r\n    dispatch( updateCart(cart) );\r\n    updateCartStorage(user, cart);\r\n    e.currentTarget.children[0].innerHTML = `Added ${itemToAdd.quantity} item${itemToAdd.quantity > 1 ? 's' : ''}`;\r\n  };\r\n\r\n  const adjustCartQuantity = (itemId:number, drop:boolean=false, dropall:boolean=false) => {\r\n    const cartItem = cart.find(({ id }) => itemId === id);\r\n    if (!cartItem) return;\r\n    if (drop) {\r\n        if (dropall) { cart.splice(cart.findIndex(item => item === cartItem), 1) }\r\n        else if (cartItem.quantity === 1) {\r\n            if (window.confirm(\"This will remove the item from your cart\")) {\r\n                cart.splice(cart.findIndex(item => item === cartItem), 1);\r\n            }\r\n        }\r\n        else cartItem.quantity--;\r\n    } else cartItem.quantity++;\r\n\r\n    dispatch( updateCart(cart) );\r\n    updateCartStorage(user, cart);\r\n  }\r\n\r\n  return (\r\n    <div className=\"List\">\r\n        {message && <div className = \"failure\"> {message}</div>}\r\n        {!list.length && <div>No items found</div>}\r\n        <ul>\r\n            {((showCaseItem && showCaseItem !==list[0])  ? [ showCaseItem, ...list] : list).map((item) =>\r\n                <li key={item.id}>\r\n                    {[STORE, CHECKOUT].includes(type) && <img src={(item as Item).img} alt=\"store item\" />}\r\n\r\n                    <ListItem key={item.id} type={type} setMessage={setMessage} setShowCaseItem={setShowCaseItem} item={  Object.entries(item)\r\n                        .reduce((acc, [key, val]) =>\r\n                            ['id', 'img'].includes(key)\r\n                                ? acc\r\n                                : ({ ...acc, [key]: (key === 'tags')\r\n                                    ? val.map(({ name } : Tag) => name)\r\n                                    : (key === 'price') ? `$${val}` : val }),\r\n                        {}) as ListItemTypes} \r\n                    />\r\n                    \r\n                    {type === STORE &&\r\n                        <form className=\"adjust-cart-store\" onSubmit={e => addToCart(e, item as Item)}>\r\n                            <div className=\"success\"></div>\r\n                            <input\r\n                                type=\"number\"\r\n                                name=\"quantity\"\r\n                                placeholder=\"quantity\"\r\n                                min={1}\r\n                                required\r\n                                onClick={e => {\r\n                                    const form = e.currentTarget.parentElement;\r\n                                    if (form) form.children[0].innerHTML = '';\r\n                                }}\r\n                            />\r\n                            <button>ADD TO CART</button>\r\n                        </form>\r\n                    }\r\n\r\n                    {type === CHECKOUT &&\r\n                        <div className=\"adjust-cart-checkout\">\r\n                            <button style={{ backgroundColor: 'turquoise' }} onClick={() => adjustCartQuantity(item.id)}>+</button>\r\n                            <button style={{ backgroundColor: 'red' }} onClick={() => adjustCartQuantity(item.id, true)}>-</button>\r\n                            <button onClick={() => adjustCartQuantity(item.id, true, true)}>Drop All</button>\r\n                        </div>\r\n                    }\r\n                </li>\r\n            )}\r\n        </ul>\r\n\r\n        <style>{`\r\n            .List {\r\n                margin: 1.5rem 1rem;\r\n            }\r\n\r\n            .List > ul {\r\n                flex-direction: column;\r\n                align-items: flex-start;\r\n                justify-content: flex-start;\r\n                width: calc(100vw - 4rem);\r\n                gap: 2.5rem;\r\n            }\r\n\r\n            .List > ul > li {\r\n                display: grid;\r\n                grid-template-columns: 1fr 6fr 1fr;\r\n                gap: 2rem;\r\n                align-items: center;\r\n            }\r\n\r\n            .List .adjust-cart-store button, .List .adjust-cart-checkout button {\r\n                width: 100%;\r\n                white-space: nowrap;\r\n                transition: transform 125ms ease-out;\r\n                border-radius: 10px;\r\n            }\r\n\r\n            .List .adjust-cart-checkout {\r\n                display: flex;\r\n            }\r\n\r\n            .List .adjust-cart-checkout button:hover { \r\n                transform: translateY(-.2rem);\r\n            }\r\n\r\n            .List .adjust-cart-checkout button:active {\r\n                transform: translateY(-.05rem);\r\n            }\r\n        `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default List;\r\n","import { useState, useEffect } from 'react';\r\nimport Layout from '../layout';\r\nimport { STORE, ORDERS, USERS } from '../../store/types';\r\nimport { useSelector } from 'react-redux';\r\nimport { Store } from '../../types';\r\nimport List from '../List';\r\nimport { getOrders, getStoreItems, getUsers } from '../../ajax';\r\nimport { ListItemTypes } from '../../types';\r\nimport Redirect from './Redirect';\r\n\r\ninterface Props {\r\n    type : typeof STORE | typeof ORDERS | typeof USERS;\r\n}\r\n\r\nconst ListDisplay = ({ type } : Props) => {\r\n    const user = useSelector(({ user } : Store) => user);\r\n    const [listItems, setListItems] = useState<ListItemTypes[]|[]>([]);\r\n    const [heading, setHeading] = useState<string>('Store');\r\n    const [prompt, setPrompt] = useState<string>('Store');\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            switch (type) {\r\n                case STORE:\r\n                    setHeading('Store');\r\n                    setPrompt('Browse items in our catalog')\r\n                    setListItems(await getStoreItems());\r\n                    break;\r\n                case ORDERS:\r\n                    if (!user) return <Redirect />;\r\n                    setHeading('My Orders');\r\n                    setPrompt('View current and past orders for your account');\r\n                    setListItems(await getOrders(user.id));\r\n                    break;\r\n                case USERS:\r\n                    if (!user?.admin) return <Redirect />;\r\n                    setHeading('Users');\r\n                    setPrompt('View and manage registered users');\r\n                    setListItems(await getUsers());\r\n                    break;\r\n                default:\r\n                    return <Redirect />\r\n            }\r\n        })();\r\n    }, [type, user]);\r\n\r\n    return <div className=\"ListDisplay\">\r\n        <h1 className=\"heading\">{heading}</h1>\r\n        <div className=\"prompt\">{prompt}</div>\r\n        <List type={type} list={listItems} />\r\n    </div>\r\n}\r\n\r\nexport default Layout(ListDisplay);","export default __webpack_public_path__ + \"static/media/loading.cb238f1e.gif\";","import { useState, useRef, FormEvent } from 'react';\r\nimport loading from \"../images/loading.gif\";\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport { CardElement, useStripe, useElements, Elements } from '@stripe/react-stripe-js';\r\nimport { chargeCustomerCard } from \"../ajax\";\r\nimport { useSelector } from 'react-redux';\r\nimport { Store, PostableOrder } from '../types';\r\nimport { colors } from '../styles';\r\n\r\nconst CheckoutForm = () => {\r\n  const user = useSelector(({ user } : Store) => user);\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n  const [message, setMessage] = useState<string>('');\r\n  const loadingGIF = useRef<HTMLImageElement>(null);\r\n\r\n  const handleSubmit = async (event:FormEvent<HTMLFormElement>) => {\r\n    // Block native form submission.\r\n    event.preventDefault();\r\n    // Prevent submission if stripe is not ready\r\n    if (!stripe || !elements || !user) return;\r\n\r\n    // Get a reference to a mounted CardElement. Elements knows how\r\n    // to find your CardElement because there can only ever be one of\r\n    // each type of element. \r\n    const cardElement = elements.getElement(CardElement);\r\n    if (!cardElement) return;\r\n    \r\n    // Use your card Element with other Stripe.js APIs\r\n    const { error, paymentMethod } = await stripe.createPaymentMethod({\r\n        type: 'card',\r\n        card: cardElement,\r\n    });\r\n    if (error) return console.log(error);\r\n    if (paymentMethod?.id) {\r\n      const formData:PostableOrder = {\r\n        userID: user.id,\r\n        stripeToken: paymentMethod.id,\r\n        items: [\r\n          {\r\n            id: 1,\r\n            quantity:2\r\n          },\r\n          {\r\n            id: 2,\r\n            quantity:4\r\n          }\r\n        ]\r\n      };\r\n      \r\n      loadingGIF.current!.style.display = 'inline';\r\n      chargeCustomerCard(formData)\r\n        .then(() => setMessage(\"Order placed successfully\"))\r\n        .catch(() => setMessage(\"Invalid card information\"))\r\n        .finally(() => {\r\n          //clear card info after submit to prevent duplicate payment\r\n          cardElement?.clear();\r\n          loadingGIF.current!.style.display = 'none'\r\n        });\r\n    }\r\n  }\r\n    \r\n  return <div className=\"CheckoutForm\">\r\n    <form onSubmit={handleSubmit}>\r\n      <CardElement />\r\n      <button>Pay</button>\r\n      <p style={{color: colors.LIGHTEST}}>{message}</p>\r\n      <img ref={loadingGIF} className=\"loading-gif\" src={loading} alt=\"Loading...\" />\r\n    </form>\r\n\r\n    <style>{`\r\n      .CheckoutForm {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n      }\r\n\r\n      .CheckoutForm form {\r\n        margin-top: 20px;\r\n        width: 400px;\r\n      }\r\n\r\n      .CheckoutForm .loading-gif {\r\n        display: none;\r\n        height: 30px;\r\n        width: 30px;\r\n      }\r\n    `}</style>\r\n  </div>\r\n}\r\n\r\nconst Payment = () => {\r\n  const [stripePromise] = useState(() => loadStripe('pk_test_51GrsxpDr6Z4R7UKUmoPXHW7swHORfQcKX7XO6D9GqXVuM1qn6m5ywhZmVmFzgxMYD6oHwkJqCneMr4oUXuIzixt4003qzTIOiD'));\r\n\r\n  return <div className=\"Payment\">\r\n    <Elements stripe={stripePromise}> <CheckoutForm /> </Elements>\r\n\r\n    <style>{`\r\n      .Payment .FormGroup {\r\n        margin: 0 15px 20px;\r\n        padding: 0;\r\n        border-style: none;\r\n        background-color: #7795f8;\r\n        will-change: opacity, transform;\r\n        box-shadow: 0 6px 9px rgba(50, 50, 93, 0.06), 0 2px 5px rgba(0, 0, 0, 0.08),\r\n          inset 0 1px 0 #829fff;\r\n        border-radius: 4px;\r\n      }\r\n      \r\n      .Payment .FormRow {\r\n        display: -ms-flexbox;\r\n        display: flex;\r\n        -ms-flex-align: center;\r\n        align-items: center;\r\n        margin-left: 15px;\r\n        border-top: 1px solid #819efc;\r\n      }\r\n      \r\n      .Payment .StripeElement--webkit-autofill {\r\n        background: transparent !important;\r\n      }\r\n      \r\n      .Payment .StripeElement {\r\n        width: 100%;\r\n        // padding: 11px 15px 11px 0;\r\n        padding: .75rem .75rem;\r\n        border: 1px solid ${colors.GRAYSCALE[4]};\r\n        border-radius: 15px;\r\n      }\r\n    `}</style>\r\n  </div>\r\n};\r\n\r\n\r\nexport default Payment;","import Payment from '../Payment';\r\nimport Layout from '../layout';\r\nimport List from '../List';\r\nimport { useSelector } from 'react-redux';\r\nimport { Store } from '../../types';\r\nimport { CHECKOUT } from '../../store/types';\r\nimport { capitalize } from '../../util';\r\n\r\nconst Checkout = () => {\r\n    const { user, cart } = useSelector((store : Store) => store);\r\n\r\n    return (\r\n        <div className=\"Checkout\">\r\n            <h1 className=\"heading\">{user ? capitalize(user.username) + \"'s\" : 'My'} Cart</h1>\r\n            <div className=\"prompt\">{cart?.length ? \"Here's what items are in your cart\" : 'Visit the \"Store\" page to add items to your cart!'}</div>\r\n            {cart\r\n                ? <List list={cart} type={CHECKOUT} />\r\n                : <div>Loading...</div>\r\n            }\r\n            <Payment />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Layout(Checkout);\r\n","import React, { useEffect } from 'react';\r\nimport './App.sass'; // need to change \"app.sass\" before push \r\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { updateUser } from './store/actions';\r\nimport { Store, User, OrderItem } from './types';\r\nimport { SIGN_UP, LOG_IN, STORE, ORDERS, USERS } from './store/types';\r\n\r\nimport Home from './components/pages/Home';\r\nimport About from './components/pages/About';\r\nimport Contact from './components/pages/Contact';\r\nimport Profile from './components/pages/Profile';\r\nimport Redirect from './components/pages/Redirect';\r\nimport NotFound from './components/pages/NotFound';\r\nimport Login from './components/pages/Login';\r\nimport ListDisplay from './components/pages/ListDisplay';\r\nimport Checkout from \"./components/pages/Checkout\";\r\nimport { routes } from './resources';\r\nimport axios from 'axios';\r\nimport updateCart from './store/actions/updateCart';\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch();\r\n  const user = useSelector(({ user } : Store) => user);\r\n\r\n  // Re-establish user/auth header on page refresh\r\n  useEffect(() => {\r\n    const userString = localStorage.getItem('user');\r\n    const jwt = localStorage.getItem('jwt');\r\n\r\n    if (userString) {\r\n      const currentUser : User = JSON.parse(userString);\r\n      dispatch( updateUser(currentUser) );\r\n    }\r\n\r\n    if (jwt) axios.defaults.headers.common['Authorization'] = 'Bearer ' + jwt;\r\n  }, [dispatch]);\r\n\r\n  // Re-establish cart on user change/page refresh\r\n  useEffect(() => {\r\n   // let carts = JSON.parse( (localStorage.getItem('carts') || '{ guest: [] }') );\r\n   let json = localStorage.getItem('carts');\r\n   let carts = json ? JSON.parse(json) : {guest: []};\r\n    const userCart : OrderItem[] = (user && carts[user.id]) ? carts[user.id] : carts['guest'];\r\n    dispatch( updateCart(userCart) );\r\n  }, [user, dispatch]);\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        {/* Perpetual routes */}\r\n        <Route path={routes.HOME} exact component={Home} />\r\n        <Route key={routes.STORE} path={routes.STORE} exact render={() => <ListDisplay type={STORE} />} />\r\n        <Route key={routes.ABOUT} path={routes.ABOUT} exact component={About} />\r\n        <Route key={routes.CONTACT} path={routes.CONTACT} exact component={Contact} />\r\n        <Route key={routes.CHECKOUT} path={routes.CHECKOUT} exact component={Checkout} />\r\n\r\n        {user\r\n          ? // If authenticated\r\n            [\r\n              <Route key={routes.ORDERS} path={routes.ORDERS} exact render={() => <ListDisplay type={ORDERS} />} />,\r\n              <Route key={routes.PROFILE} path={routes.PROFILE} exact component={Profile} />\r\n            ]\r\n          : // Else\r\n            [\r\n              <Route key={routes.SIGN_UP} path={routes.SIGN_UP} exact render={() => <Login type={SIGN_UP} />} />,\r\n              <Route key={routes.LOG_IN} path={routes.LOG_IN} exact render={() => <Login type={LOG_IN} />} />\r\n            ]\r\n        }\r\n\r\n        {user?.admin && [\r\n          <Route key={routes.USERS} path={routes.USERS} exact render={() => <ListDisplay type={USERS} />} />\r\n        ]}\r\n\r\n        {/* Redirect any valid route inputs to Home, invalid to 404 */}\r\n        {Object.values(routes).map(route => <Route key={route} path={route} exact component={Redirect} />)}\r\n        <Route path={routes.HOME} component={NotFound} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { Action } from '../../types';\r\nimport { UPDATE_USER } from '../types';\r\n\r\nconst user = (state=null, { type, payload } : Action) => {\r\n    switch (type) {\r\n        case UPDATE_USER:\r\n            return payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default user;","import { Action } from '../../types';\r\nimport { UPDATE_CART } from '../types';\r\n\r\nconst cart = (state=[], { type, payload } : Action) => {\r\n   if(!payload){\r\n       return state;\r\n   }\r\n    switch (type) {\r\n        case UPDATE_CART:\r\n            return [...payload];\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default cart;","import { combineReducers } from \"redux\";\r\nimport user from './user';\r\nimport cart from './cart';\r\n\r\nexport default combineReducers({ user, cart });","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore } from 'redux';\r\nimport reducer from './store/reducers';\r\n\r\nconst store = createStore(reducer);\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}