(this["webpackJsonpp1-ui"]=this["webpackJsonpp1-ui"]||[]).push([[0],{48:function(e,t,n){},49:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var r,c=n(0),a=n(1),i=n.n(a),s=n(22),o=n.n(s),l=(n(48),n(49),n(7)),u=n(8),d=n(3),j=n(11),b="UPDATE_USER",p="UPDATE_CART",m="LOG_IN",h="USERS",O="STORE",f="ORDERS",x="CHECKOUT",g=(r={},Object(j.a)(r,h,"username"),Object(j.a)(r,f,"id"),Object(j.a)(r,O,"name"),Object(j.a)(r,x,"name"),r),v=function(e){return{type:b,payload:e}},N=function(e){return{type:"UPDATE_CART",payload:e}},y=v,w=N,S=n(9),k="http://54.151.78.250:8080/goshopping-api";if(window.location.host.includes("localhost")){var L=localStorage.getItem("API_URL");k=localStorage.getItem("API_URL")||"http://localhost:8080/goshopping",L||console.warn("localStorage.getItem('API_URL') not set. api url will be set to "+k)}var C=new URL(k),E={HOME:"/goshopping-ui",ABOUT:"/goshopping-ui/about",CONTACT:"/goshopping-ui/contact",CHECKOUT:"/goshopping-ui/checkout",PROFILE:"/goshopping-ui/profile",SIGN_UP:"/goshopping-ui/signup",LOG_IN:"/goshopping-ui/login",ORDERS:"/goshopping-ui/orders",STORE:"/goshopping-ui/items",USERS:"/goshopping-ui/users"},I=Object.entries({LOG_IN:"/login",ORDER:"/order",USER:"/user",ITEM:"/item",TAG:"/tags",EDIT_PASSWORD:"/user"}).reduce((function(e,t){return Object(S.a)(Object(S.a)({},e),{},Object(j.a)({},t[0],C+t[1]))}),{}),T="red",R="#ff2900",P="tomato",q="#ff9000",M=["#111","#333","#666","#999","#e4e4e4","white"],A=function(){var e=Object(d.c)((function(e){return e.user}));return Object(c.jsxs)("nav",{children:[Object(c.jsxs)("ul",{children:[Object(c.jsxs)("li",{children:[" ",Object(c.jsx)(l.c,{to:E.HOME,exact:!0,activeClassName:"selected",children:"Home"})," "]}),Object(c.jsxs)("li",{children:[" ",Object(c.jsx)(l.c,{to:E.STORE,exact:!0,activeClassName:"selected",children:"Store"})," "]}),e&&Object(c.jsxs)("li",{children:[" ",Object(c.jsxs)(l.c,{to:E.ORDERS,exact:!0,activeClassName:"selected",children:[!e.admin&&"My ","Orders"]})," "]}),(null===e||void 0===e?void 0:e.admin)&&Object(c.jsxs)("li",{children:[" ",Object(c.jsx)(l.c,{to:E.USERS,exact:!0,activeClassName:"selected",children:"Users"})," "]}),Object(c.jsxs)("li",{children:[" ",Object(c.jsx)(l.c,{to:E.ABOUT,exact:!0,activeClassName:"selected",children:"About"})," "]}),Object(c.jsxs)("li",{children:[" ",Object(c.jsx)(l.c,{to:E.CONTACT,exact:!0,activeClassName:"selected",children:"Contact"})," "]})]}),Object(c.jsx)("style",{children:"\n            nav a {\n                color: ".concat(M[5],";\n                outline: none;\n                user-select: none;\n                font-size: 1.25rem;\n            }\n\n            nav .selected {\n                color: ").concat(q,";\n            }\n\n            nav a:hover, nav a:focus {\n                color: ").concat(P,";\n            }\n\n            nav a:active {\n                color: ").concat(R,";\n            }\n        ")})]})},U=function(e){var t=e.to,n=void 0===t?E.HOME:t,r=Object(u.f)();return Object(a.useEffect)((function(){return r.push(n)})),Object(c.jsx)(c.Fragment,{})},D=n(2),F=n.n(D),H=n(6),_=n(10),G=n.n(_),X=n(41);function z(e){return B.apply(this,arguments)}function B(){return(B=Object(H.a)(F.a.mark((function e(t){var n,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.a.post(I.USER,t);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.t0.response.status;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function W(e){return J.apply(this,arguments)}function J(){return(J=Object(H.a)(F.a.mark((function e(t){var n,r,c,a,i;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.a.post(I.LOG_IN,t);case 3:return n=e.sent,r=n.data.jwt,c=Object(X.a)(r),a=JSON.parse(c.auth),i=Object(S.a)(Object(S.a)({},a),{},{username:t.username}),localStorage.setItem("user",JSON.stringify(i)),localStorage.setItem("jwt",r),G.a.defaults.headers.common.Authorization="Bearer "+r,e.abrupt("return",i);case 14:throw e.prev=14,e.t0=e.catch(0),console.log(e.t0),e.t0.response.status;case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function K(e){return V.apply(this,arguments)}function V(){return(V=Object(H.a)(F.a.mark((function e(t){var n,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.a.put(I.EDIT_PASSWORD,t);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),new Error("Error updating password");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function Y(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(H.a)(F.a.mark((function e(t){var n,r,c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={quantity:10},t=Object(S.a)(Object(S.a)({},n),t||{}),e.prev=2,e.next=5,G()({url:I.ITEM,params:t});case 5:return r=e.sent,c=r.data,e.abrupt("return",c);case 10:return e.prev=10,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function Q(e){return $.apply(this,arguments)}function $(){return($=Object(H.a)(F.a.mark((function e(t){var n,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.a.get(I.ITEM+"/".concat(t));case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(H.a)(F.a.mark((function e(t){var n,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.a.get(I.ORDER+(t?"?uid=".concat(t):""));case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function ne(){return re.apply(this,arguments)}function re(){return(re=Object(H.a)(F.a.mark((function e(){var t,n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.a.get(I.USER);case 3:return t=e.sent,n=t.data,e.abrupt("return",Array.isArray(n)?n:[]);case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function ce(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(H.a)(F.a.mark((function e(t){var n,r,c,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.a.post(I.ORDER,t);case 3:return n=e.sent,r=n.data,c=n.status,a={data:r,status:c},e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(0),console.log(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var ie=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e})),n=t.user,r=t.cart;return Object(c.jsxs)("div",{className:"NavLogin",children:[Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{className:"cart",children:Object(c.jsx)(l.c,{to:E.CHECKOUT,children:Object(c.jsxs)("span",{children:[Object(c.jsx)("i",{className:"fas fa-shopping-cart"}),Object(c.jsx)("span",{children:r?r.length:0})]})})}),n?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("li",{className:"profile",children:Object(c.jsx)(l.c,{to:E.PROFILE,children:"My Profile"})},"profile"),Object(c.jsx)("li",{children:Object(c.jsx)("button",{onClick:function(){return localStorage.removeItem("user"),localStorage.removeItem("jwt"),delete G.a.defaults.headers.common.Authorization,e(y(null)),Object(c.jsx)(U,{})},children:"Log out"})},"logout")]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("li",{children:Object(c.jsx)(l.c,{to:E.SIGN_UP,exact:!0,activeClassName:"selected",children:"Sign up"})},"signup"),Object(c.jsx)("li",{children:Object(c.jsx)(l.c,{to:E.LOG_IN,exact:!0,activeClassName:"selected",children:"Log in"})},"login")]})]}),Object(c.jsx)("style",{children:"\n            .NavLogin ul {\n                gap: 1.25rem;\n                height: 0;\n            }\n\n            .NavLogin a, .NavLogin button {\n                background-color: ".concat(P,";\n                border: none;\n                border-radius: 15px;\n                padding: .5rem .95rem;\n                cursor: pointer;\n                color: ").concat(M[5],";\n                font-size: .95rem;\n                outline: none;\n                user-select: none;\n            }\n\n            .NavLogin button {\n                padding: .57rem .95rem;\n            }\n\n            .NavLogin .selected {\n                background-color: ").concat(R,";\n            }\n            \n            .NavLogin a:hover, .NavLogin a:focus, .NavLogin button:hover, .NavLogin button:focus {\n                background-color: ").concat(q,";\n            }\n\n            .NavLogin a:active, .NavLogin button:active {\n                background-color: ").concat(T,";\n            }\n\n            .NavLogin .profile a {\n                background-color: transparent;\n                color: ").concat(q,";\n                font-weight: 500;\n                font-size: 1rem;\n                margin-left: -.5rem;\n            }\n\n            .NavLogin .profile a:hover, .NavLogin .profile a:focus {\n                color: ").concat(P,";\n            }\n\n            .NavLogin .profile a:active {\n                color: ").concat(R,";\n            }\n\n            .NavLogin .profile a {\n                background-color: transparent;\n                color: ").concat(q,";\n                font-weight: 500;\n                font-size: 1rem;\n            }\n\n            .NavLogin .profile a:hover, .NavLogin .profile a:focus {\n                color: ").concat(P,";\n            }\n\n            .NavLogin .profile a:active {\n                color: ").concat(R,";\n            }\n\n            .NavLogin .cart {\n              margin-right: -.75rem;\n              margin-bottom: .15rem;\n            }\n            \n            .NavLogin .cart a {\n                background-color: transparent;\n                font-size: 1.5rem;\n            }\n\n            .NavLogin .fa-shopping-cart {\n                margin-right: .5rem;\n                transition: transform 100ms ease-out;\n            }\n\n            .NavLogin .fa-shopping-cart:hover {\n              transform: scale(1.125) translateY(-.1rem);\n            }\n        ")})]})},se=n(5),oe=function(){var e=Object(a.useState)(!1),t=Object(se.a)(e,2),n=t[0],r=t[1],i=Object(a.useRef)(null),s=Object(a.useRef)(null),o=Object(d.c)((function(e){return e.user}));return Object(a.useEffect)((function(){(null===i||void 0===i?void 0:i.current)&&(null===s||void 0===s?void 0:s.current)&&[i.current,s.current].forEach((function(e){return n?e.classList.add("nav-open"):e.classList.remove("nav-open")}))}),[n]),Object(c.jsxs)("div",{className:"MobileNav",children:[Object(c.jsx)("div",{className:"hamburger",ref:i}),Object(c.jsx)("span",{className:"hamburger-click-region",onClick:function(){return r(!n)}}),Object(c.jsxs)("ul",{ref:s,children:[Object(c.jsxs)("li",{children:[" ",Object(c.jsx)(l.c,{to:E.HOME,exact:!0,activeClassName:"selected",children:"Home"})," "]}),Object(c.jsxs)("li",{children:[" ",Object(c.jsx)(l.c,{to:E.STORE,exact:!0,activeClassName:"selected",children:"Store"})," "]}),o&&Object(c.jsxs)("li",{children:[" ",Object(c.jsxs)(l.c,{to:E.ORDERS,exact:!0,activeClassName:"selected",children:[!o.admin&&"My ","Orders"]})," "]}),(null===o||void 0===o?void 0:o.admin)&&Object(c.jsxs)("li",{children:[" ",Object(c.jsx)(l.c,{to:E.USERS,exact:!0,activeClassName:"selected",children:"Users"})," "]}),Object(c.jsxs)("li",{children:[" ",Object(c.jsx)(l.c,{to:E.ABOUT,exact:!0,activeClassName:"selected",children:"About"})," "]}),Object(c.jsxs)("li",{children:[" ",Object(c.jsx)(l.c,{to:E.CONTACT,exact:!0,activeClassName:"selected",children:"Contact"})," "]})]}),Object(c.jsx)("style",{children:"\n                .MobileNav .hamburger, .MobileNav .hamburger-click-region {\n                    position: absolute;\n                    left: 1.5rem;\n                    top: 2.45rem;\n                }\n\n                .MobileNav .hamburger,\n                .MobileNav .hamburger::before,\n                .MobileNav .hamburger::after {\n                    width: 1.725rem;\n                    height: 2.25px;\n                    background-color: ".concat(M[5],";\n                    transition: transform 250ms ease-in-out,\n                                opacity 250ms ease-in-out;\n                }\n\n                .MobileNav .hamburger::before,\n                .MobileNav .hamburger::after {\n                    content: '';\n                    position: absolute;\n                    left: 0;\n                    bottom: 6px;\n                }\n\n                .MobileNav .hamburger::after {\n                    top: 6px;\n                }\n\n                .MobileNav .hamburger-click-region {\n                    height: 21px;\n                    width: 2rem;\n                    cursor: pointer;\n                    top: 1.5rem;\n                }\n\n                .MobileNav .nav-open.hamburger {\n                    transform: rotate(45deg);\n                }\n\n                .MobileNav .nav-open.hamburger::before {\n                    opacity: 0;\n                }\n\n                .MobileNav .nav-open.hamburger::after {\n                    transform: rotate(90deg) translateX(-5.5px);\n                }\n\n                .MobileNav ul {\n                    flex-direction: column;\n                    gap: 0;\n                    align-items: flex-start;\n                    background-color: ").concat(M[0],";\n                    position: absolute;\n                    bottom: 0;\n                    left: 0;\n                    z-index: -1;\n                    padding: 20rem 7.9rem 1.1rem 1rem;\n                    transition: bottom 300ms ease-out;\n                    border-radius: 12px;\n                }\n\n                .MobileNav ul.nav-open {\n                    bottom: ").concat(o?o.admin?-14.7:-12.6:-10.6,"rem;\n                }\n\n                .MobileNav li {\n                    margin: .5rem;\n                    position: relative;\n                    white-space: nowrap;\n                }\n\n                .MobileNav li a {\n                    color: ").concat(q,";\n                    outline: none;\n                    user-select: none;\n                }\n    \n                .MobileNav .selected {\n                    color: ").concat(M[5],";\n                }\n    \n                .MobileNav a:hover, .MobileNav a:focus {\n                    color: ").concat(P,";\n                }\n    \n                .MobileNav a:active {\n                    color: ").concat(R,";\n                }\n\n                .MobileNav li::after {\n                    content: '';\n                    height: 1px;\n                    width: 100%;\n                    position: absolute;\n                    bottom: -4px;\n                    left: 0;\n                    background-color: ").concat(M[5],";\n                }\n            ")})]})},le=function(){return Object(c.jsxs)("header",{children:[Object(c.jsx)(oe,{}),Object(c.jsx)("strong",{className:"logo",children:"GoShopping!"}),Object(c.jsx)(A,{}),Object(c.jsx)(ie,{}),Object(c.jsx)("style",{children:"\n            header {\n                background-color: ".concat(M[0],";\n                height: 5rem;\n                color: ").concat(M[5],";\n                display: flex;\n                align-items: center;\n                justify-content: space-around;\n                position: relative;\n            }\n\n            header .logo {\n                color: ").concat(q,";\n                position: absolute;\n                top: 1.85rem;\n                left: .9rem;\n                user-select: none;\n            }\n        ")})]})},ue=function(){return Object(c.jsxs)("footer",{children:[Object(c.jsxs)("span",{children:[Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:"Md Abul Kashem"}),Object(c.jsx)("li",{children:"Nick Barak"}),Object(c.jsx)("li",{children:"Zack Garner"}),Object(c.jsx)("li",{children:"Hisham Saymeh"}),Object(c.jsx)("li",{children:"Vincent Sevilla"}),Object(c.jsx)("li",{children:"Eric Terreri"})]}),Object(c.jsx)("div",{children:"\xa9 2020 Revature"})]}),Object(c.jsx)("style",{children:"\n            footer, footer span {\n                display: flex;\n            }\n\n            footer {\n                justify-content: center;\n                align-items: center;\n                background-color: ".concat(M[1],";\n                color: ").concat(M[5],";\n                text-align: center;\n            }\n\n            footer span {\n                flex-direction: column;\n                gap: .5rem;\n            }\n            \n            footer ul {\n                gap: .65rem;\n                margin-bottom: .25rem;\n            }\n\n            footer div {\n                user-select: none;\n            }\n\n            footer div {\n                user-select: none;\n            }\n        ")})]})},de=function(e){return function(t){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(le,{}),Object(c.jsxs)("div",{className:"body",children:[" ",Object(c.jsx)(e,Object(S.a)({},t))," "]}),Object(c.jsx)(ue,{})]})}};function je(e){return e[0].toUpperCase()+e.slice(1)}var be=function(e,t){var n=JSON.parse(localStorage.getItem("carts")||"{}");n[e?e.id:"guest"]=t,localStorage.setItem("carts",JSON.stringify(n))},pe=de((function(){var e=Object(d.c)((function(e){return e.user}));return Object(c.jsxs)("div",{className:"Home",children:[Object(c.jsx)("h1",{className:"heading",children:"Home"}),Object(c.jsx)("div",{className:"prompt",children:e?"Welcome, ".concat(je(e.username),"!"):"Log in or sign up today!"})]})})),me=de((function(){return Object(c.jsxs)("div",{className:"About",children:[Object(c.jsx)("h1",{className:"heading",children:"About"}),Object(c.jsx)("div",{className:"prompt",children:"We are a generic ecommerce company!"}),Object(c.jsxs)("section",{children:[Object(c.jsx)("label",{children:Object(c.jsx)("strong",{children:"Who We Are"})}),Object(c.jsx)("div",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolores facilis aliquid consectetur, similique vero quos, totam nihil cum harum blanditiis tempore ab quam quasi eum! Ullam reprehenderit impedit quasi voluptate facilis ipsa sit! Ad, odit cupiditate. Aliquid, deleniti. Ea velit minus at voluptatibus deleniti exercitationem ducimus laudantium quasi ipsa reiciendis!"})]}),Object(c.jsxs)("section",{children:[Object(c.jsx)("label",{children:Object(c.jsx)("strong",{children:"What We Do"})}),Object(c.jsx)("div",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolores facilis aliquid consectetur, similique vero quos, totam nihil cum harum blanditiis tempore ab quam quasi eum! Ullam reprehenderit impedit quasi voluptate facilis ipsa sit! Ad, odit cupiditate. Aliquid, deleniti. Ea velit minus at voluptatibus deleniti exercitationem ducimus laudantium quasi ipsa reiciendis!"})]}),Object(c.jsxs)("section",{children:[Object(c.jsx)("label",{children:Object(c.jsx)("strong",{children:"Our Plans for the Future"})}),Object(c.jsx)("div",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolores facilis aliquid consectetur, similique vero quos, totam nihil cum harum blanditiis tempore ab quam quasi eum! Ullam reprehenderit impedit quasi voluptate facilis ipsa sit! Ad, odit cupiditate. Aliquid, deleniti. Ea velit minus at voluptatibus deleniti exercitationem ducimus laudantium quasi ipsa reiciendis!"})]}),Object(c.jsx)("style",{children:"\n            .About section {\n                margin-bottom: 1rem;\n            }\n        "})]})})),he=de((function(){return Object(c.jsxs)("div",{className:"Contact",children:[Object(c.jsx)("h1",{className:"heading",children:"Contact"}),Object(c.jsx)("div",{className:"prompt",children:"Feel free to reach out to our staff!"}),Object(c.jsxs)("ul",{children:[Object(c.jsxs)("li",{children:[Object(c.jsx)("strong",{children:"email: "}),Object(c.jsx)("span",{children:"hr@goshopping.com"})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("strong",{children:"phone: "}),Object(c.jsx)("span",{children:"(XXX) XXX-XXXX"})]})]}),Object(c.jsx)("style",{children:"\n            .Contact ul {\n                flex-direction: column;\n                width: 15rem;\n                align-items: flex-start;\n            }\n        "})]})})),Oe=de((function(){var e=Object(d.c)((function(e){return e.user})),t=Object(d.b)(),n=Object(u.f)(),r=Object(a.useState)({changingPassword:!1,currentPassword:"",newPassword:"",confirmNewPassword:""}),i=Object(se.a)(r,2),s=i[0],o=i[1],l=Object(a.useState)(""),b=Object(se.a)(l,2),p=b[0],m=b[1],h=Object(a.useState)(!1),O=Object(se.a)(h,2),f=O[0],x=O[1],g=Object(a.useRef)(null);if(Object(a.useEffect)((function(){(null===g||void 0===g?void 0:g.current)&&(g.current.style.backgroundColor=f?P:M[1])}),[f]),!e)return Object(c.jsx)(U,{});var N=function(e){o(Object(S.a)(Object(S.a)({},s),{},Object(j.a)({},e.currentTarget.name,e.currentTarget.value)))},y=function(){var e=Object(H.a)(F.a.mark((function e(r){var c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),s.newPassword===s.confirmNewPassword){e.next=3;break}return e.abrupt("return",m("Passwords must match"));case 3:return e.prev=3,e.next=6,K({oldPass:s.currentPassword,newPass:s.newPassword});case 6:c=e.sent,m("Password Changed"),t(v(c)),n.push(E.HOME),e.next=19;break;case 12:e.prev=12,e.t0=e.catch(3),e.t1=e.t0,e.next=400===e.t1?17:18;break;case 17:return e.abrupt("return",m("Ivalid password"));case 18:m("Something went wrong");case 19:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"Profile",children:[Object(c.jsxs)("h1",{className:"heading",children:[e&&je(e.username),e&&(e.username.endsWith("s")?"' ":"'s "),"Profile"]}),Object(c.jsx)("div",{className:"prompt",children:"View and edit your account information here"}),Object(c.jsx)("div",{className:"error",children:p}),Object(c.jsxs)("section",{children:[Object(c.jsx)("button",{className:"button",ref:g,onClick:function(){return x(!f)},children:"Change Password"}),f&&Object(c.jsxs)("form",{onSubmit:y,children:[Object(c.jsx)("input",{type:"password",required:!0,name:"currentPassword",placeholder:"current password",onChange:N}),Object(c.jsx)("input",{type:"password",required:!0,name:"newPassword",placeholder:"new password",onChange:N}),Object(c.jsx)("input",{type:"password",required:!0,name:"confirmNewPassword",placeholder:"confirm new password",onChange:N}),Object(c.jsx)("button",{children:"Submit"})]})]}),Object(c.jsx)("style",{children:"\n                .Profile .button {\n                    padding: .6rem .8rem;\n                    font-size: .9rem;\n                    margin-bottom: 1.25rem;\n                }\n\n                .Profile form {\n                    width: 15rem;\n                    margin-bottom: 2rem;\n                }\n    \n                .Profile .error {\n                    margin-top: .5rem;\n                }\n            "})]})})),fe=de((function(){return Object(c.jsxs)("div",{className:"NotFound",children:[Object(c.jsx)("h1",{className:"heading",children:"Not Found"}),Object(c.jsx)("div",{className:"prompt",children:"We're sorry! This page doesn't exist."}),Object(c.jsx)(l.b,{to:E.HOME,children:"Back to Home"}),Object(c.jsx)("style",{children:"\n            .NotFound .prompt {\n                margin-bottom: 1.45rem;\n            }\n\n            .NotFound a {\n                background-color: ".concat(P,";\n                border: none;\n                border-radius: 15px;\n                padding: .5rem .95rem;\n                cursor: pointer;\n                color: ").concat(M[5],";\n                font-size: .95rem;\n                outline: none;\n            }\n\n            .NotFound .selected {\n                background-color: ").concat(R,";\n            }\n            \n            .NotFound a:hover, .NotFound a:focus {\n                background-color: ").concat(q,";\n            }\n\n            .NotFound a:active {\n                background-color: ").concat(T,";\n            }\n        ")})]})})),xe=de((function(e){var t=e.type===m,n=Object(d.b)(),r=Object(a.useState)({username:"",password:""}),i=Object(se.a)(r,2),s=i[0],o=i[1],l=Object(a.useState)(""),u=Object(se.a)(l,2),b=u[0],p=u[1],h=Object(a.useState)(""),O=Object(se.a)(h,2),f=O[0],x=O[1],g=function(e){return o(Object(S.a)(Object(S.a)({},s),{},Object(j.a)({},e.currentTarget.name,e.currentTarget.value)))},v=function(){var e=Object(H.a)(F.a.mark((function e(r){var a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),t||s.password===b){e.next=3;break}return e.abrupt("return",x("Passwords must match"));case 3:return e.prev=3,e.next=6,t?W(s):z(s);case 6:return a=e.sent,n(y(a)),e.abrupt("return",Object(c.jsx)(U,{}));case 11:e.prev=11,e.t0=e.catch(3),e.t1=e.t0,e.next=401===e.t1?16:409===e.t1?17:18;break;case 16:return e.abrupt("return",x("Ivalid credentials"));case 17:return e.abrupt("return",x("Username not available"));case 18:x("Something went wrong");case 19:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"Login",children:[Object(c.jsx)("h1",{className:"heading",children:t?"Log in":"Sign up"}),Object(c.jsx)("div",{className:"error",children:f}),Object(c.jsx)("div",{className:"prompt",children:"Please submit your credentials below"}),Object(c.jsxs)("form",{onSubmit:v,autoComplete:"off",children:[Object(c.jsx)("input",{type:"text",required:!0,name:"username",placeholder:"username",onChange:g}),Object(c.jsx)("input",{type:"password",required:!0,name:"password",placeholder:"password",onChange:g}),!t&&Object(c.jsx)("input",{type:"password",required:!0,name:"confirmPassword",placeholder:"confirm password",onChange:function(e){return p(e.currentTarget.value)}}),Object(c.jsx)("button",{children:"Submit"})]}),Object(c.jsx)("style",{children:"\n            .Login form {\n                width: 15rem;\n            }\n\n            .Login .error {\n                margin-top: .5rem;\n            }\n        "})]})})),ge=n(25),ve=function(e){var t=e.type,n=e.item,r=e.setShowCaseItem,i=e.setMessage,s=Object(a.useState)(g[t]),o=Object(se.a)(s,1)[0];return Object(c.jsxs)("div",{className:"ListItem",children:[Object(c.jsx)("strong",{className:"title",children:n[o]}),Object(c.jsx)("table",{className:"list-item-details",children:Object(c.jsxs)("tbody",{children:[Object(c.jsx)("tr",{children:Object.entries(n).filter((function(e){return Object(se.a)(e,1)[0]!==o})).map((function(e){var t=Object(se.a)(e,1)[0];return Object(c.jsx)("th",{children:t},t)}))}),Object(c.jsx)("tr",{children:Object.entries(n).filter((function(e){return Object(se.a)(e,1)[0]!==o})).map((function(e){var t=Object(se.a)(e,2),a=t[0],s=t[1];return Object(c.jsx)("td",{children:[null,void 0,""].includes(s)?"Not available":Array.isArray(s)?"items"===a?n.items.map((function(e){var t=e.name,n=e.id;return Object(c.jsxs)("span",{className:"orderItemName",onClick:Object(H.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(n);case 2:(t=e.sent)?(r(t),i("")):i("Unable to load item");case 4:case"end":return e.stop()}}),e)}))),children:[t,", "]})})):s.join(", "):"date"===a?new Date(s).toLocaleDateString():s.toString()},a)}))})]})}),Object(c.jsx)("style",{children:"\n            .ListItem .list-item-details {\n                font-family: Arial, Helvetica, sans-serif;\n                border-collapse: collapse;\n                width: 100%;\n            }\n                \n            .ListItem .list-item-details td, .ListItem .list-item-details th {\n                border: 1px solid #ddd;\n                padding: 8px;\n            }\n                \n            .ListItem .list-item-details tr:nth-child(even){ background-color: #f2f2f2; }\n                \n            .ListItem .list-item-details tr:hover { background-color: #ddd; }\n                \n            .ListItem .list-item-details th {\n                padding-top: 12px;\n                padding-bottom: 12px;\n                text-align: left;\n                background-color: ".concat(q,";\n                color: white;\n            }\n\n            .ListItem .title {\n                display: block;\n                font-size: 1.35rem;\n                text-decoration: underline;\n                margin-bottom: .25rem;\n                margin-left: .125rem;\n                transition: color 200ms ease-out;\n            }\n\n            .ListItem .title:hover {\n                color: ").concat(T,";\n            }\n            .ListItem .orderItemName{\n                cursor: pointer;\n\n            }\n            .ListItem .orderItemName:hover{\n                text-decoration: underline;\n                color: ").concat(q,"\n\n            }\n        ")})]})},Ne=function(e){var t=e.list,n=e.type,r=Object(d.b)(),i=Object(d.c)((function(e){return e})),s=i.user,o=i.cart,l=Object(a.useState)(t[0]),u=Object(se.a)(l,2),b=u[0],p=u[1],m=Object(a.useState)(""),h=Object(se.a)(m,2),f=h[0],g=h[1],v=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=o.find((function(t){var n=t.id;return e===n}));c&&(t?n?o.splice(o.findIndex((function(e){return e===c})),1):1===c.quantity?window.confirm("This will remove the item from your cart")&&o.splice(o.findIndex((function(e){return e===c})),1):c.quantity--:c.quantity++,r(w(o)),be(s,o))};return Object(c.jsxs)("div",{className:"List",children:[f&&Object(c.jsxs)("div",{className:"failure",children:[" ",f]}),!t.length&&Object(c.jsx)("div",{children:"No items found"}),Object(c.jsx)("ul",{children:(b&&b!==t[0]?[b].concat(Object(ge.a)(t)):t).map((function(e){return Object(c.jsxs)("li",{children:[[O,x].includes(n)&&Object(c.jsx)("img",{src:e.img,alt:"store item"}),Object(c.jsx)(ve,{type:n,setMessage:g,setShowCaseItem:p,item:Object.entries(e).reduce((function(e,t){var n=Object(se.a)(t,2),r=n[0],c=n[1];return["id","img"].includes(r)?e:Object(S.a)(Object(S.a)({},e),{},Object(j.a)({},r,"tags"===r?c.map((function(e){return e.name})):"price"===r?"$".concat(c):c))}),{})},e.id),n===O&&Object(c.jsxs)("form",{className:"adjust-cart-store",onSubmit:function(t){return function(e,t){var n;e.preventDefault();var c=Object(S.a)(Object(S.a)({},t),{},{quantity:Number.parseInt(null===(n=e.currentTarget.quantity)||void 0===n?void 0:n.value)||1});e.currentTarget.reset();var a=o.findIndex((function(e){return e.id===c.id}));a>-1?o[a].quantity+=c.quantity:o.push(c),r(w(o)),be(s,o),e.currentTarget.children[0].innerHTML="Added ".concat(c.quantity," item").concat(c.quantity>1?"s":"")}(t,e)},children:[Object(c.jsx)("div",{className:"success"}),Object(c.jsx)("input",{type:"number",name:"quantity",placeholder:"quantity",min:1,required:!0,onClick:function(e){var t=e.currentTarget.parentElement;t&&(t.children[0].innerHTML="")}}),Object(c.jsx)("button",{children:"ADD TO CART"})]}),n===x&&Object(c.jsxs)("div",{className:"adjust-cart-checkout",children:[Object(c.jsx)("button",{style:{backgroundColor:"turquoise"},onClick:function(){return v(e.id)},children:"+"}),Object(c.jsx)("button",{style:{backgroundColor:"red"},onClick:function(){return v(e.id,!0)},children:"-"}),Object(c.jsx)("button",{onClick:function(){return v(e.id,!0,!0)},children:"Drop All"})]})]},e.id)}))}),Object(c.jsx)("style",{children:"\n            .List {\n                margin: 1.5rem 1rem;\n            }\n\n            .List > ul {\n                flex-direction: column;\n                align-items: flex-start;\n                justify-content: flex-start;\n                width: calc(100vw - 4rem);\n                gap: 2.5rem;\n            }\n\n            .List > ul > li {\n                display: grid;\n                grid-template-columns: 1fr 6fr 1fr;\n                gap: 2rem;\n                align-items: center;\n            }\n\n            .List .adjust-cart-store button, .List .adjust-cart-checkout button {\n                width: 100%;\n                white-space: nowrap;\n                transition: transform 125ms ease-out;\n                border-radius: 10px;\n            }\n\n            .List .adjust-cart-checkout {\n                display: flex;\n            }\n\n            .List .adjust-cart-checkout button:hover { \n                transform: translateY(-.2rem);\n            }\n\n            .List .adjust-cart-checkout button:active {\n                transform: translateY(-.05rem);\n            }\n        "})]})},ye=de((function(e){var t=e.type,n=Object(d.c)((function(e){return e.user})),r=Object(a.useState)([]),i=Object(se.a)(r,2),s=i[0],o=i[1],l=Object(a.useState)("Store"),u=Object(se.a)(l,2),j=u[0],b=u[1],p=Object(a.useState)("Store"),m=Object(se.a)(p,2),x=m[0],g=m[1];return Object(a.useEffect)((function(){Object(H.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next=e.t0===O?3:e.t0===f?11:e.t0===h?21:31;break;case 3:return b("Store"),g("Browse items in our catalog"),e.t1=o,e.next=8,Y();case 8:return e.t2=e.sent,(0,e.t1)(e.t2),e.abrupt("break",32);case 11:if(n){e.next=13;break}return e.abrupt("return",Object(c.jsx)(U,{}));case 13:return b("My Orders"),g("View current and past orders for your account"),e.t3=o,e.next=18,ee(n.id);case 18:return e.t4=e.sent,(0,e.t3)(e.t4),e.abrupt("break",32);case 21:if(null===n||void 0===n?void 0:n.admin){e.next=23;break}return e.abrupt("return",Object(c.jsx)(U,{}));case 23:return b("Users"),g("View and manage registered users"),e.t5=o,e.next=28,ne();case 28:return e.t6=e.sent,(0,e.t5)(e.t6),e.abrupt("break",32);case 31:return e.abrupt("return",Object(c.jsx)(U,{}));case 32:case"end":return e.stop()}}),e)})))()}),[t,n]),Object(c.jsxs)("div",{className:"ListDisplay",children:[Object(c.jsx)("h1",{className:"heading",children:j}),Object(c.jsx)("div",{className:"prompt",children:x}),Object(c.jsx)(Ne,{type:t,list:s})]})})),we=n.p+"static/media/loading.cb238f1e.gif",Se=n(42),ke=n(19),Le=function(){var e=Object(d.c)((function(e){return e.user})),t=Object(ke.useStripe)(),n=Object(ke.useElements)(),r=Object(a.useState)(""),i=Object(se.a)(r,2),s=i[0],o=i[1],l=Object(a.useRef)(null),u=function(){var r=Object(H.a)(F.a.mark((function r(c){var a,i,s,u,d;return F.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(c.preventDefault(),t&&n&&e){r.next=3;break}return r.abrupt("return");case 3:if(a=n.getElement(ke.CardElement)){r.next=6;break}return r.abrupt("return");case 6:return r.next=8,t.createPaymentMethod({type:"card",card:a});case 8:if(i=r.sent,s=i.error,u=i.paymentMethod,!s){r.next=13;break}return r.abrupt("return",console.log(s));case 13:(null===u||void 0===u?void 0:u.id)&&(d={userID:e.id,stripeToken:u.id,items:[{id:1,quantity:2},{id:2,quantity:4}]},l.current.style.display="inline",ce(d).then((function(){return o("Order placed successfully")})).catch((function(){return o("Invalid card information")})).finally((function(){null===a||void 0===a||a.clear(),l.current.style.display="none"})));case 14:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"CheckoutForm",children:[Object(c.jsxs)("form",{onSubmit:u,children:[Object(c.jsx)(ke.CardElement,{}),Object(c.jsx)("button",{children:"Pay"}),Object(c.jsx)("p",{style:{color:q},children:s}),Object(c.jsx)("img",{ref:l,className:"loading-gif",src:we,alt:"Loading..."})]}),Object(c.jsx)("style",{children:"\n      .CheckoutForm {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      .CheckoutForm form {\n        margin-top: 20px;\n        width: 400px;\n      }\n\n      .CheckoutForm .loading-gif {\n        display: none;\n        height: 30px;\n        width: 30px;\n      }\n    "})]})},Ce=function(){var e=Object(a.useState)((function(){return Object(Se.a)("pk_test_51GrsxpDr6Z4R7UKUmoPXHW7swHORfQcKX7XO6D9GqXVuM1qn6m5ywhZmVmFzgxMYD6oHwkJqCneMr4oUXuIzixt4003qzTIOiD")})),t=Object(se.a)(e,1)[0];return Object(c.jsxs)("div",{className:"Payment",children:[Object(c.jsxs)(ke.Elements,{stripe:t,children:[" ",Object(c.jsx)(Le,{})," "]}),Object(c.jsx)("style",{children:"\n      .Payment .FormGroup {\n        margin: 0 15px 20px;\n        padding: 0;\n        border-style: none;\n        background-color: #7795f8;\n        will-change: opacity, transform;\n        box-shadow: 0 6px 9px rgba(50, 50, 93, 0.06), 0 2px 5px rgba(0, 0, 0, 0.08),\n          inset 0 1px 0 #829fff;\n        border-radius: 4px;\n      }\n      \n      .Payment .FormRow {\n        display: -ms-flexbox;\n        display: flex;\n        -ms-flex-align: center;\n        align-items: center;\n        margin-left: 15px;\n        border-top: 1px solid #819efc;\n      }\n      \n      .Payment .StripeElement--webkit-autofill {\n        background: transparent !important;\n      }\n      \n      .Payment .StripeElement {\n        width: 100%;\n        // padding: 11px 15px 11px 0;\n        padding: .75rem .75rem;\n        border: 1px solid ".concat(M[4],";\n        border-radius: 15px;\n      }\n    ")})]})},Ee=de((function(){var e=Object(d.c)((function(e){return e})),t=e.user,n=e.cart;return Object(c.jsxs)("div",{className:"Checkout",children:[Object(c.jsxs)("h1",{className:"heading",children:[t?je(t.username)+"'s":"My"," Cart"]}),Object(c.jsx)("div",{className:"prompt",children:(null===n||void 0===n?void 0:n.length)?"Here's what items are in your cart":'Visit the "Store" page to add items to your cart!'}),n?Object(c.jsx)(Ne,{list:n,type:x}):Object(c.jsx)("div",{children:"Loading..."}),Object(c.jsx)(Ce,{})]})}));var Ie=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.user}));return Object(a.useEffect)((function(){var t=localStorage.getItem("user"),n=localStorage.getItem("jwt");if(t){var r=JSON.parse(t);e(y(r))}n&&(G.a.defaults.headers.common.Authorization="Bearer "+n)}),[e]),Object(a.useEffect)((function(){var n=localStorage.getItem("carts"),r=n?JSON.parse(n):{guest:[]},c=t&&r[t.id]?r[t.id]:r.guest;e(N(c))}),[t,e]),Object(c.jsx)(l.a,{children:Object(c.jsxs)(u.c,{children:[Object(c.jsx)(u.a,{path:E.HOME,exact:!0,component:pe}),Object(c.jsx)(u.a,{path:E.STORE,exact:!0,render:function(){return Object(c.jsx)(ye,{type:O})}},E.STORE),Object(c.jsx)(u.a,{path:E.ABOUT,exact:!0,component:me},E.ABOUT),Object(c.jsx)(u.a,{path:E.CONTACT,exact:!0,component:he},E.CONTACT),Object(c.jsx)(u.a,{path:E.CHECKOUT,exact:!0,component:Ee},E.CHECKOUT),t?[Object(c.jsx)(u.a,{path:E.ORDERS,exact:!0,render:function(){return Object(c.jsx)(ye,{type:f})}},E.ORDERS),Object(c.jsx)(u.a,{path:E.PROFILE,exact:!0,component:Oe},E.PROFILE)]:[Object(c.jsx)(u.a,{path:E.SIGN_UP,exact:!0,render:function(){return Object(c.jsx)(xe,{type:"SIGN_UP"})}},E.SIGN_UP),Object(c.jsx)(u.a,{path:E.LOG_IN,exact:!0,render:function(){return Object(c.jsx)(xe,{type:m})}},E.LOG_IN)],(null===t||void 0===t?void 0:t.admin)&&[Object(c.jsx)(u.a,{path:E.USERS,exact:!0,render:function(){return Object(c.jsx)(ye,{type:h})}},E.USERS)],Object.values(E).map((function(e){return Object(c.jsx)(u.a,{path:e,exact:!0,component:U},e)})),Object(c.jsx)(u.a,{path:E.HOME,component:fe})]})})},Te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,74)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},Re=n(18),Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case b:return r;default:return e}},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;if(!r)return e;switch(n){case p:return Object(ge.a)(r);default:return e}},Me=Object(Re.b)({user:Pe,cart:qe}),Ae=Object(Re.c)(Me);o.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(d.a,{store:Ae,children:Object(c.jsx)(Ie,{})})}),document.getElementById("root")),Te()}},[[73,1,2]]]);
//# sourceMappingURL=main.8bac2ed0.chunk.js.map