{"version":3,"sources":["store/types.ts","store/actions/updateUser.ts","store/actions/updateCart.ts","store/actions/index.ts","resources.ts","styles.ts","components/layout/Nav.tsx","ajax.ts","components/layout/NavLogin.tsx","components/layout/MobileNav.tsx","components/layout/Header.tsx","components/layout/Footer.tsx","components/layout/index.tsx","components/pages/About.tsx","components/pages/Contact.tsx","components/pages/Profile.tsx","components/pages/Redirect.tsx","components/pages/NotFound.tsx","components/pages/Login.tsx","components/ListItem.tsx","util.ts","components/List.tsx","components/SearchBar.tsx","components/pages/ListDisplay.tsx","images/loading.gif","components/Payment.tsx","components/pages/Checkout.tsx","App.tsx","reportWebVitals.ts","store/reducers/user.ts","store/reducers/cart.ts","store/reducers/index.ts","index.tsx"],"names":["UPDATE_USER","UPDATE_CART","LOG_IN","USERS","STORE","ORDERS","CHECKOUT","listItemTitleKeys","updateUser","payload","type","updateCart","updateUserAction","updateCartAction","url","window","location","host","includes","local","localStorage","getItem","console","warn","API","URL","routes","ABOUT","CONTACT","PROFILE","SIGN_UP","apiRoutes","Object","entries","ORDER","USER","ITEM","TAG","reduce","acc","cur","colors","Nav","user","useSelector","to","exact","activeClassName","admin","signup","formData","a","axios","post","api","data","log","response","status","login","jwt","o","jwtDecode","auth","JSON","parse","username","setItem","stringify","defaults","headers","common","editPassword","put","Error","params","getStoreItem","id","get","getOrders","uid","getUsers","delete","getTags","Array","isArray","chargeCustomerCard","NavLogin","history","useHistory","dispatch","useDispatch","store","cart","className","length","onClick","removeItem","push","MobileNav","useState","open","setOpen","hamburger","useRef","dropdown","useEffect","current","forEach","ref","classList","add","remove","Header","Footer","Layout","Body","props","changingPassword","currentPassword","newPassword","confirmNewPassword","state","setState","error","setError","setChangingPassword","changePasswordBtn","orderCount","setOrderCount","style","backgroundColor","onChange","e","currentTarget","name","value","changePassword","preventDefault","oldPass","newPass","onSubmit","required","placeholder","Redirect","isLogin","password","setFormData","confirmPassword","setConfirmPassword","autoComplete","ListItem","item","setShowCaseItem","setMessage","titleKey","filter","map","key","val","undefined","items","showCaseItem","el","join","Date","toLocaleDateString","toString","updateCartStorage","carts","List","list","setList","message","adjustCartQuantity","itemId","drop","dropall","cartItem","find","splice","findIndex","quantity","confirm","onDeleteUser","user_","deleteUser","then","listItem","catch","src","img","alt","itemToAdd","Number","parseInt","reset","itemIndexInCart","children","innerHTML","addToCart","min","form","parentElement","SearchBar","handlers","tags","top","showPageButtons","defaultValue","disabled","tag","onKeyDown","search","limit","sort","pageDown","pageUp","listItems","setListItems","heading","setHeading","prompt","setPrompt","page","setSearch","setTags","setShowPageButtons","viewAllOrders","setViewAllOrders","getStoreItems","result","slice","Math","max","event","text","sortBy","changeOrderView","searchOrdersByUsername","color","CheckoutForm","stripe","useStripe","elements","useElements","loadingGIF","handleSubmit","cardElement","getElement","CardElement","createPaymentMethod","card","paymentMethod","userID","stripeToken","display","finally","clear","loading","Payment","loadStripe","stripePromise","subtotal","setSubtotal","price","toFixed","string","toUpperCase","App","userString","currentUser","json","guest","userCart","path","render","component","About","Contact","Checkout","Profile","values","route","NotFound","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","combineReducers","createStore","reducer","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.68e1b3ad.chunk.js","sourcesContent":["export const UPDATE_USER = 'UPDATE_USER';\nexport const UPDATE_CART = 'UPDATE_CART';\nexport const SIGN_UP = 'SIGN_UP';\nexport const LOG_IN = 'LOG_IN';\nexport const USERS = 'USERS';\nexport const STORE = 'STORE';\nexport const ORDERS = 'ORDERS';\nexport const CHECKOUT = 'CHECKOUT';\n\nexport type ListTypes = typeof STORE | typeof ORDERS | typeof USERS | typeof CHECKOUT;\n\nexport const listItemTitleKeys = {\n    [USERS]: 'username',\n    [ORDERS]: 'id',\n    [STORE]: 'name',\n    [CHECKOUT]: 'name'\n}\n","import { UPDATE_USER } from '../types';\nimport { User } from '../../types';\n\nconst updateUser = (payload : User|null) => ({ type: UPDATE_USER, payload });\n\nexport default updateUser;","import { OrderItem } from '../../types';\n\nconst updateCart = (payload : OrderItem[]) => ({ type: \"UPDATE_CART\", payload });\n\nexport default updateCart;","import updateUserAction from './updateUser';\nimport updateCartAction from \"./updateCart\";\n\nexport const updateUser = updateUserAction;\nexport const updateCart = updateCartAction;","let url = `http://54.151.78.250:8080/goshopping-api`;\n\nif (window.location.host.includes('localhost')) {\n    const local = localStorage.getItem('API_URL');\n    //url = localStorage.getItem('API_URL') || `http://localhost:8080/api`;\n    url = localStorage.getItem('API_URL') || `http://localhost:8080/goshopping/`;\n\n    if (!local) {\n        console.warn(\"localStorage.getItem('API_URL') not set. \" +\n            \"api url will be set to \" + url);\n    }\n}\n\nexport const API = new URL(url);\n\nexport const routes = {\n    STORE: '/goshopping-ui',\n    ABOUT: '/goshopping-ui/about',\n    CONTACT: '/goshopping-ui/contact',\n    CHECKOUT: '/goshopping-ui/checkout',\n    PROFILE: '/goshopping-ui/profile',\n    SIGN_UP: '/goshopping-ui/signup',\n    LOG_IN: '/goshopping-ui/login',\n    ORDERS: '/goshopping-ui/orders',\n    USERS: '/goshopping-ui/users'\n};\n\nexport const apiRoutes: any  = Object.entries({\n    LOG_IN: '/login',\n    ORDER: '/order',\n    USER: '/user',\n    ITEM: '/item',\n    TAG: '/tags'\n}).reduce((acc, cur) => ({ ...acc, [cur[0]]: API + cur[1] }), {});","export const colors = {\n    DARKEST: 'red',\n    DARKER: '#ff2900',\n    LIGHTER: 'tomato',\n    LIGHTEST: '#ff9000',\n    GRAYSCALE: [ '#111', '#333', '#666', '#999', '#e4e4e4', 'white' ]\n}","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { NavLink } from \"react-router-dom\";\nimport { routes } from \"../../resources\";\nimport { Store } from \"../../types\";\nimport { colors } from \"../../styles\";\n\nconst Nav = () => {\n  const user = useSelector(({ user }: Store) => user);\n\n    return <nav>\n        <ul>\n            <li> <NavLink to={routes.STORE} exact activeClassName=\"selected\">Store</NavLink> </li>\n\n            {user &&\n                <li> <NavLink to={routes.ORDERS} exact activeClassName=\"selected\">{!user.admin && 'My '}Orders</NavLink> </li>\n            }\n            \n            {user?.admin &&\n                <li> <NavLink to={routes.USERS} exact activeClassName=\"selected\">Users</NavLink> </li>\n            }\n            <li> <NavLink to={routes.ABOUT} exact activeClassName=\"selected\">About</NavLink> </li>\n            <li> <NavLink to={routes.CONTACT} exact activeClassName=\"selected\">Contact</NavLink> </li>\n        </ul>\n\n      <style>{`\n            nav a {\n                color: ${colors.GRAYSCALE[5]};\n                outline: none;\n                user-select: none;\n                font-size: 1.25rem;\n            }\n\n            nav .selected {\n                color: ${colors.LIGHTEST};\n            }\n\n            nav a:hover, nav a:focus {\n                color: ${colors.LIGHTER};\n            }\n\n            nav a:active {\n                color: ${colors.DARKER};\n            }\n        `}</style>\n    </nav>\n};\n\nexport default Nav;\n","import axios from 'axios';\nimport { apiRoutes as api } from './resources';\nimport * as models from './types';\nimport jwtDecode from 'jwt-decode';\n\n// Authentication/Registration\n\nexport async function signup(formData : models.PostableUser) : Promise<models.User>{\n    try {\n        const { data } = await axios.post(api.USER, formData);\n        return data as models.User;\n    } catch (e) {\n        console.log(e);\n        throw e.response.status;\n    }\n}\n\nexport async function login(formData : models.LoginRequest) : Promise<models.User>{\n    try {\n        const { data: { jwt } } = await axios.post<models.LoginResponse>(api.LOG_IN, formData);\n        const o : any = jwtDecode(jwt);\n        const auth : models.Auth = JSON.parse(o.auth);\n        const user : models.User = { ...auth, username: formData.username };\n        localStorage.setItem('user', JSON.stringify(user));\n        localStorage.setItem('jwt', jwt);\n        axios.defaults.headers.common['Authorization'] = 'Bearer ' + jwt;\n        return user;\n    } catch (e) {\n        console.log(e);\n        throw e.response.status;\n    }\n}\n\n/** Reset local storage */\nexport function logout() {\n    localStorage.removeItem('user');\n    localStorage.removeItem('jwt');\n    delete axios.defaults.headers.common['Authorization'];\n}\n\nexport async function editPassword(formData : models.PutableUser) : Promise<models.User|null> {\n    try {\n        const { data } = await axios.put(api.USER, formData);\n        return data as models.User;\n    } catch (e) {\n        console.log(e);\n        throw new Error('Error updating password');\n    }\n}\n\n\n// Store Items\n\nexport async function getStoreItems(params : models.ItemSearchQueryParams) : Promise<models.Item[]> {\n    try {\n        const { data } = await axios({\n            url: api.ITEM,\n            params\n        });\n        return (data as models.Item[]);\n    } catch (e) {\n        console.log(e);\n        return [];\n    }\n}\n\nexport async function getStoreItem(id : number) : Promise<models.Item|null> {\n    try {\n        const { data } = await axios.get(api.ITEM + `/${id}`);\n        return (data as models.Item);\n    } catch (e) {\n        console.log(e);\n        return null;\n    }\n}\n\nexport async function deleteStoreItem(id : number) {\n    try {\n        axios.delete(api.ITEM + `/${id}`);\n    } catch (e) {\n        console.log(e);\n        throw new Error('Failed to delete item');\n    }\n}\n\n\nexport async function createStoreItem(formData : models.PostableItem) : Promise<models.Item> {\n    try {\n        const { data } = await axios.post(api.ITEM, formData);\n        return data;\n    } catch (e) {\n        console.log(e);\n        throw new Error('Failed to create item');\n    }\n}\n\nexport async function updateStoreItem(formData : models.PutableItem) : Promise<models.Item> {\n    try {\n        const { data } = await axios.put(api.ITEM + `/${formData.id}`, formData);\n        return data;\n    } catch (e) {\n        throw new Error('Failed to update item');\n    }\n}\n\n// Orders\n\nexport async function getOrders(uid? : number) : Promise<models.Order[]> {\n    try {\n        const { data } = await axios.get(api.ORDER + (uid ? `?uid=${uid}` : ''));\n        return data as models.Order[];\n    } catch (e) {\n        console.log(e);\n        return [];\n    }\n}\n\nexport async function getOrderById(id : number) : Promise<models.Order|null> {\n    try {\n        const { data } = await axios.get(api.ORDER + `/${id}`);\n        return data as models.Order;\n    } catch (e) {\n        console.log(e);\n        return null;\n    }\n}\n\nexport async function createOrder(formData : models.PostableOrder) : Promise<models.Order> {\n    try {\n        const { data } = await axios.post<models.Order>(api.ORDER, formData);\n        return data as models.Order;\n    } catch (e) {\n        console.log(e);\n        throw new Error('Failed to create order');\n    }\n}\n\n\n// Users\n\nexport async function getUsers() : Promise<models.User[]> {\n    try {\n        const { data } = await axios.get<models.User[]>(api.USER);\n        return data;\n    } catch (e) {\n        console.log(e);\n        return [];\n    }\n}\n\nexport async function getUser(id : number) : Promise<models.User|null> {\n    try {\n        const { data } = await axios.get<models.User>(api.USER + `/${id}`);\n        return data;\n    } catch (e) {\n        console.log(e);\n        return null;\n    }\n}\n\nexport async function deleteUser(id : number) {\n    try {\n        axios.delete(api.USER + `/${id}`);\n    } catch (e) {\n        console.log(e);\n        throw new Error('Failed to delete user');\n    }\n}\n\n\n// Tags\n\nexport async function getTags() : Promise<models.Tag[]> {\n    try {\n        const { data } = await axios.get(api.TAG);\n        return (Array.isArray(data) ? data as models.Tag[] : []);\n    } catch (e) {\n        console.log(e);\n        return [];\n    }\n}\n\n\n// Payment\n\nexport async function chargeCustomerCard(formData: models.PostableOrder): Promise<models.OrderResponse>{\n    try {\n        const {data, status} = await axios.post(api.ORDER, formData);\n  \n        const response:models.OrderResponse = {\n            data,\n            status,\n        };\n        return response;\n    } catch (e) {\n        console.log(e);\n        throw e;\n    }\n} ","import { useSelector, useDispatch } from \"react-redux\";\nimport { NavLink, useHistory } from \"react-router-dom\";\nimport { routes } from \"../../resources\";\nimport { Store } from \"../../types\";\nimport { updateUser } from \"../../store/actions\";\nimport { colors } from \"../../styles\";\nimport { logout } from \"../../ajax\";\n\nconst NavLogin = () => {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const { user, cart } = useSelector((store : Store) => store);\n\n  const logOut = () => {\n    // Reset local storage\n    logout();\n    dispatch(updateUser(null));\n    return history.push(routes.STORE);\n  };\n\n  return (\n    <div className=\"NavLogin\">\n      <ul>\n        <li className=\"cart\">\n          <NavLink to={routes.CHECKOUT}>\n            <span>\n              <i className=\"fas fa-shopping-cart\"></i>\n              <span>{cart ? cart.length : 0}</span>\n            </span>\n          </NavLink>\n        </li>\n        {user ? (\n          <>\n            <li className=\"profile\" key=\"profile\">\n              <NavLink to={routes.PROFILE}>My Profile</NavLink>\n            </li>\n            <li key=\"logout\">\n              <button onClick={logOut}>Log out</button>\n            </li>\n          </>\n        ) : (\n          <>\n            <li key=\"signup\">\n              <NavLink to={routes.SIGN_UP} exact activeClassName=\"selected\">\n                Sign up\n              </NavLink>\n            </li>\n            <li key=\"login\">\n              <NavLink to={routes.LOG_IN} exact activeClassName=\"selected\">\n                Log in\n              </NavLink>\n            </li>\n          </>\n        )}\n      </ul>\n\n      <style>{`\n            .NavLogin ul {\n                gap: 1.25rem;\n                height: 0;\n            }\n\n            .NavLogin a, .NavLogin button {\n                background-color: ${colors.LIGHTER};\n                border: none;\n                border-radius: 15px;\n                padding: .5rem .95rem;\n                cursor: pointer;\n                color: ${colors.GRAYSCALE[5]};\n                font-size: .95rem;\n                outline: none;\n                user-select: none;\n            }\n\n            .NavLogin button {\n                padding: .57rem .95rem;\n            }\n\n            .NavLogin .selected {\n                background-color: ${colors.DARKER};\n            }\n            \n            .NavLogin a:hover, .NavLogin a:focus, .NavLogin button:hover, .NavLogin button:focus {\n                background-color: ${colors.LIGHTEST};\n            }\n\n            .NavLogin a:active, .NavLogin button:active {\n                background-color: ${colors.DARKEST};\n            }\n\n            .NavLogin .profile a {\n                background-color: transparent;\n                color: ${colors.LIGHTEST};\n                font-weight: 500;\n                font-size: 1rem;\n                margin-left: -.5rem;\n            }\n\n            .NavLogin .profile a:hover, .NavLogin .profile a:focus {\n                color: ${colors.LIGHTER};\n            }\n\n            .NavLogin .profile a:active {\n                color: ${colors.DARKER};\n            }\n\n            .NavLogin .profile a {\n                background-color: transparent;\n                color: ${colors.LIGHTEST};\n                font-weight: 500;\n                font-size: 1rem;\n            }\n\n            .NavLogin .profile a:hover, .NavLogin .profile a:focus {\n                color: ${colors.LIGHTER};\n            }\n\n            .NavLogin .profile a:active {\n                color: ${colors.DARKER};\n            }\n\n            .NavLogin .cart {\n              margin-right: -.75rem;\n              margin-bottom: .15rem;\n            }\n            \n            .NavLogin .cart a {\n                background-color: transparent;\n                font-size: 1.5rem;\n            }\n\n            .NavLogin .fa-shopping-cart {\n                margin-right: .5rem;\n                transition: transform 100ms ease-out;\n            }\n\n            .NavLogin .fa-shopping-cart:hover {\n              transform: scale(1.125) translateY(-.1rem);\n            }\n        `}</style>\n    </div>\n  );\n};\n\nexport default NavLogin;\n","import { useState, useEffect, useRef } from 'react';\nimport { colors } from '../../styles';\nimport { NavLink } from 'react-router-dom';\nimport { routes } from '../../resources';\nimport { useSelector } from 'react-redux';\nimport { Store } from '../../types';\n\nconst MobileNav = () => {\n    const [open, setOpen] = useState<boolean>(false);\n    const hamburger = useRef<HTMLDivElement>(null);\n    const dropdown = useRef<HTMLUListElement>(null);\n    const user = useSelector(({ user } : Store) => user);\n\n    useEffect(() => {\n        if (hamburger?.current && dropdown?.current) {\n            [hamburger.current, dropdown.current].forEach(ref => open\n                ? ref.classList.add('nav-open')\n                : ref.classList.remove('nav-open')\n            );\n        }\n    }, [open]);\n\n    return (\n        <div className=\"MobileNav\">\n            <div className=\"hamburger\" ref={hamburger} />\n            <span className=\"hamburger-click-region\" onClick={() => setOpen(!open)} />\n            <ul ref={dropdown}>\n                <li> <NavLink to={routes.STORE} exact activeClassName=\"selected\">Store</NavLink> </li>\n\n                {user &&\n                    <li> <NavLink to={routes.ORDERS} exact activeClassName=\"selected\">{!user.admin && 'My '}Orders</NavLink> </li>\n                }\n                \n                {user?.admin &&\n                    <li> <NavLink to={routes.USERS} exact activeClassName=\"selected\">Users</NavLink> </li>\n                }\n                <li> <NavLink to={routes.ABOUT} exact activeClassName=\"selected\">About</NavLink> </li>\n                <li> <NavLink to={routes.CONTACT} exact activeClassName=\"selected\">Contact</NavLink> </li>\n            </ul>\n\n            <style>{`\n                .MobileNav .hamburger, .MobileNav .hamburger-click-region {\n                    position: absolute;\n                    left: 1.5rem;\n                    top: 2.45rem;\n                }\n\n                .MobileNav .hamburger,\n                .MobileNav .hamburger::before,\n                .MobileNav .hamburger::after {\n                    width: 1.725rem;\n                    height: 2.25px;\n                    background-color: ${colors.GRAYSCALE[5]};\n                    transition: transform 250ms ease-in-out,\n                                opacity 250ms ease-in-out;\n                }\n\n                .MobileNav .hamburger::before,\n                .MobileNav .hamburger::after {\n                    content: '';\n                    position: absolute;\n                    left: 0;\n                    bottom: 6px;\n                }\n\n                .MobileNav .hamburger::after {\n                    top: 6px;\n                }\n\n                .MobileNav .hamburger-click-region {\n                    height: 21px;\n                    width: 2rem;\n                    cursor: pointer;\n                    top: 1.5rem;\n                }\n\n                .MobileNav .nav-open.hamburger {\n                    transform: rotate(45deg);\n                }\n\n                .MobileNav .nav-open.hamburger::before {\n                    opacity: 0;\n                }\n\n                .MobileNav .nav-open.hamburger::after {\n                    transform: rotate(90deg) translateX(-5.5px);\n                }\n\n                .MobileNav ul {\n                    flex-direction: column;\n                    gap: 0;\n                    align-items: flex-start;\n                    background-color: ${colors.GRAYSCALE[0]};\n                    position: absolute;\n                    bottom: 0;\n                    left: 0;\n                    z-index: -1;\n                    padding: 20rem 7.9rem 1.1rem 1rem;\n                    transition: bottom 300ms ease-out;\n                    border-radius: 12px;\n                }\n\n                .MobileNav ul.nav-open {\n                    bottom: ${!user ? -10.6 : !user.admin ? -12.6 : -14.7}rem;\n                }\n\n                .MobileNav li {\n                    margin: .5rem;\n                    position: relative;\n                    white-space: nowrap;\n                }\n\n                .MobileNav li a {\n                    color: ${colors.LIGHTEST};\n                    outline: none;\n                    user-select: none;\n                }\n    \n                .MobileNav .selected {\n                    color: ${colors.GRAYSCALE[5]};\n                }\n    \n                .MobileNav a:hover, .MobileNav a:focus {\n                    color: ${colors.LIGHTER};\n                }\n    \n                .MobileNav a:active {\n                    color: ${colors.DARKER};\n                }\n\n                .MobileNav li::after {\n                    content: '';\n                    height: 1px;\n                    width: 100%;\n                    position: absolute;\n                    bottom: -4px;\n                    left: 0;\n                    background-color: ${colors.GRAYSCALE[5]};\n                }\n            `}</style>\n        </div>\n    )\n}\n\nexport default MobileNav;\n","import React from 'react';\nimport Nav from './Nav';\nimport NavLogin from './NavLogin';\nimport MobileNav from './MobileNav';\nimport { colors } from '../../styles';\n\nconst Header = () => {\n    return <header>\n        <MobileNav />\n        <strong className=\"logo\">GoShopping!</strong>\n        <Nav />\n        <NavLogin />\n\n        <style>{`\n            header {\n                background-color: ${colors.GRAYSCALE[0]};\n                height: 5rem;\n                color: ${colors.GRAYSCALE[5]};\n                display: flex;\n                align-items: center;\n                justify-content: space-around;\n                position: relative;\n            }\n\n            header .logo {\n                color: ${colors.LIGHTEST};\n                position: absolute;\n                top: 1.85rem;\n                left: .9rem;\n                user-select: none;\n            }\n        `}</style>\n    </header>\n}\n\nexport default Header;\n","import { colors } from '../../styles';\n\nconst Footer = () => {\n    return <footer>\n        <span>\n            <ul>\n                <li>Md Abul Kashem</li>\n                <li>Nick Barak</li>\n                <li>Zack Garner</li>\n                <li>Hisham Saymeh</li>\n                <li>Vincent Sevilla</li>\n                <li>Erik Terreri</li>\n            </ul>\n            <div>&copy; 2020 Revature</div>\n        </span>\n\n        <style>{`\n            footer, footer span {\n                display: flex;\n            }\n\n            footer {\n                justify-content: center;\n                align-items: center;\n                background-color: ${colors.GRAYSCALE[1]};\n                color: ${colors.GRAYSCALE[5]};\n                text-align: center;\n            }\n\n            footer span {\n                flex-direction: column;\n                gap: .5rem;\n            }\n            \n            footer ul {\n                gap: .65rem;\n                margin-bottom: .25rem;\n            }\n\n            footer div {\n                user-select: none;\n            }\n\n            footer div {\n                user-select: none;\n            }\n        `}</style>\n    </footer>\n}\n\nexport default Footer;\n","import React, { ComponentType } from 'react';\nimport Header from './Header';\nimport Footer from './Footer';\n\n// Higher-order component for wrapping dynamic body content with commonly reused components\n// Requires no code modifications\nconst Layout = (Body : ComponentType<any>) => (props : any) =>\n    <>\n        <Header />\n        <div className=\"body\"> <Body {...props} /> </div>\n        <Footer />\n    </>\n\nexport default Layout;\n","import Layout from '../layout';\n\nconst About = () => {\n\n    return <div className=\"About\">\n        <h1 className=\"heading\">About</h1>\n        <div className=\"prompt\">We are a generic ecommerce company!</div>\n        <section>\n            <label><strong>Who We Are</strong></label>\n            <div>Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolores facilis aliquid consectetur, similique vero quos, totam nihil cum harum blanditiis tempore ab quam quasi eum! Ullam reprehenderit impedit quasi voluptate facilis ipsa sit! Ad, odit cupiditate. Aliquid, deleniti. Ea velit minus at voluptatibus deleniti exercitationem ducimus laudantium quasi ipsa reiciendis!</div>\n        </section>\n        <section>\n            <label><strong>What We Do</strong></label>\n            <div>Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolores facilis aliquid consectetur, similique vero quos, totam nihil cum harum blanditiis tempore ab quam quasi eum! Ullam reprehenderit impedit quasi voluptate facilis ipsa sit! Ad, odit cupiditate. Aliquid, deleniti. Ea velit minus at voluptatibus deleniti exercitationem ducimus laudantium quasi ipsa reiciendis!</div>\n        </section>\n        <section>\n            <label><strong>Our Plans for the Future</strong></label>\n            <div>Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolores facilis aliquid consectetur, similique vero quos, totam nihil cum harum blanditiis tempore ab quam quasi eum! Ullam reprehenderit impedit quasi voluptate facilis ipsa sit! Ad, odit cupiditate. Aliquid, deleniti. Ea velit minus at voluptatibus deleniti exercitationem ducimus laudantium quasi ipsa reiciendis!</div>\n        </section>\n        \n        <style>{`\n            .About section {\n                margin-bottom: 1rem;\n            }\n        `}</style>\n    </div>\n}\n\nexport default Layout(About);\n","import Layout from '../layout';\n\nconst Contact = () => {\n\n    return <div className=\"Contact\">\n        <h1 className=\"heading\">Contact</h1>\n        <div className=\"prompt\">Feel free to reach out to our staff!</div>\n        <ul>\n            <li>\n                <strong>email: </strong>\n                <span>hr@goshopping.com</span>\n            </li>\n            <li>\n                <strong>phone: </strong>\n                <span>(XXX) XXX-XXXX</span>\n            </li>\n        </ul>\n\n        <style>{`\n            .Contact ul {\n                flex-direction: column;\n                width: 15rem;\n                align-items: flex-start;\n            }\n        `}</style>\n    </div>\n}\n\nexport default Layout(Contact);\n","import { useState, useEffect, useRef, FormEvent } from 'react';\nimport { useSelector } from 'react-redux';\nimport Layout from '../layout';\nimport { Store } from '../../types';\nimport { editPassword, getOrders } from '../../ajax';\nimport { colors } from '../../styles';\nimport { useDispatch } from 'react-redux';\nimport updateUser from '../../store/actions/updateUser';\nimport { useHistory } from \"react-router-dom\";\nimport { routes } from '../../resources';\n\ninterface ProfileState {\n    changingPassword : boolean;\n    currentPassword : string;\n    newPassword : string;\n    confirmNewPassword : string;\n}\n\nconst Profile = () => {\n    const user = useSelector(({ user } : Store) => user);\n    const dispatch = useDispatch();\n    const history = useHistory();\n    const [state, setState] = useState<ProfileState>({\n        changingPassword: false,\n        currentPassword: '',\n        newPassword: '',\n        confirmNewPassword: ''\n    });\n    const [error, setError] = useState<string>('');\n    const [changingPassword, setChangingPassword] = useState<boolean>(false);\n    const changePasswordBtn = useRef<HTMLButtonElement>(null);\n    const [orderCount, setOrderCount] = useState<number>(0);\n\n    useEffect(() => {\n        (async () => setOrderCount( (await getOrders(user?.id)).length) )()\n    }, [user]);\n\n    useEffect(() => {\n        if (changePasswordBtn?.current) {\n            changePasswordBtn.current.style.backgroundColor = (changingPassword ? colors.LIGHTER : colors.GRAYSCALE[1]);\n        }\n    }, [changingPassword]);\n    \n    if (!user) {\n        history.push(routes.STORE);\n        return <></>;\n    }\n\n    const onChange = (e : FormEvent<HTMLInputElement>) => {\n        setState({ ...state, [e.currentTarget.name]: e.currentTarget.value });\n    }\n\n    const changePassword = async (e : FormEvent<HTMLFormElement>) => {\n        e.preventDefault();\n        if (state.newPassword !== state.confirmNewPassword) return setError('Passwords must match');\n        try {\n            const user = await editPassword({ oldPass: state.currentPassword, newPass: state.newPassword });\n            setError('Password Changed');\n            dispatch(updateUser(user));\n            return history.push(routes.STORE);\n        } catch (e) { \n            switch (e) {\n                case 400:\n                    return setError('Ivalid password');\n                case 401:\n                    return setError('Invalid password');\n                default:\n                    setError('Something went wrong');\n            }    \n        }\n    }\n\n    return (\n        <div className=\"Profile\">\n            <h1 className=\"heading\">My Profile</h1>\n            <div className=\"prompt\">View and edit your account information here</div>\n            {error && <div className=\"error\">{error}</div>}\n            <section>\n                <div>\n                    <strong>ID: </strong>\n                    <span>#{user.id}</span>\n                </div>\n                <div>\n                    <strong>Username: </strong>\n                    <span>{user.username}</span>\n                </div>\n                <div>\n                    <strong>Orders: </strong>\n                    <span>{orderCount}</span>\n                </div>\n            </section>\n            <section>\n                <button className=\"button\" ref={changePasswordBtn} onClick={() => setChangingPassword(!changingPassword)}>Change Password</button>\n                {changingPassword &&\n                    <form onSubmit={changePassword}>\n                        <input type=\"password\" required name=\"currentPassword\" placeholder=\"current password\" onChange={onChange} />\n                        <input type=\"password\" required name=\"newPassword\" placeholder=\"new password\" onChange={onChange} />\n                        <input type=\"password\" required name=\"confirmNewPassword\" placeholder=\"confirm new password\" onChange={onChange} />\n                        <button>Submit</button>\n                    </form>\n                }\n            </section>\n\n            <style>{`\n                .Profile section {\n                    margin-bottom: 1.5rem;\n                }\n\n                .Profile .button {\n                    padding: .6rem .8rem;\n                    font-size: .9rem;\n                    margin-bottom: 1.25rem;\n                }\n\n                .Profile form {\n                    width: 15rem;\n                    margin-bottom: 2rem;\n                }\n    \n                .Profile .error {\n                    margin-top: .5rem;\n                }\n            `}</style>\n        </div>\n    )\n}\n\nexport default Layout(Profile);\n","import { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { routes } from '../../resources';\n\ninterface Props {\n    to? : string;\n}\n\n// Redirect to any route by passing it to the \"to\" property. Redirects to home by default.\nconst Redirect = ({ to=routes.STORE } : Props) => {\n    const history = useHistory();\n    useEffect(() => history.push(to));\n\n    return <></>\n}\n\nexport default Redirect;\n","import React from 'react';\nimport { routes } from '../../resources';\nimport { Link } from 'react-router-dom';\nimport Layout from '../layout';\nimport { colors } from '../../styles';\n\nconst NotFound = () => {\n    return <div className=\"NotFound\">\n        <h1 className=\"heading\">Not Found</h1>\n        <div className=\"prompt\">We're sorry! This page doesn't exist.</div>\n        <Link to={routes.STORE}>Back to Store</Link>\n\n        <style>{`\n            .NotFound .prompt {\n                margin-bottom: 1.45rem;\n            }\n\n            .NotFound a {\n                background-color: ${colors.LIGHTER};\n                border: none;\n                border-radius: 15px;\n                padding: .5rem .95rem;\n                cursor: pointer;\n                color: ${colors.GRAYSCALE[5]};\n                font-size: .95rem;\n                outline: none;\n            }\n\n            .NotFound .selected {\n                background-color: ${colors.DARKER};\n            }\n            \n            .NotFound a:hover, .NotFound a:focus {\n                background-color: ${colors.LIGHTEST};\n            }\n\n            .NotFound a:active {\n                background-color: ${colors.DARKEST};\n            }\n        `}</style>\n    </div>\n}\n\nexport default Layout(NotFound);\n","import { useState, FormEvent } from 'react';\nimport { SIGN_UP, LOG_IN } from '../../store/types';\nimport Layout from '../layout';\nimport { useDispatch } from 'react-redux';\nimport { updateUser } from '../../store/actions';\nimport { PostableUser } from '../../types';\nimport { login, signup } from '../../ajax';\nimport { RouteComponentProps } from 'react-router-dom';\nimport { routes } from '../../resources';\n\ninterface Props extends RouteComponentProps {\n    // Tell the component which version to render with string types (exported from store/types)\n    type : typeof SIGN_UP | typeof LOG_IN;\n}\n\nconst Login = ({ type, history } : Props) => {\n    const isLogin = (type === LOG_IN);\n    const dispatch = useDispatch();\n    const [formData, setFormData] = useState<PostableUser>({ username: '', password: '' });\n    const [confirmPassword, setConfirmPassword] = useState<string>('');\n    const [error, setError] = useState<string>('');\n\n    const onChange = (e : FormEvent<HTMLInputElement>) => setFormData({ ...formData, [e.currentTarget.name]: e.currentTarget.value });\n\n    const onSubmit = async (e : FormEvent<HTMLFormElement>) => {\n        e.preventDefault();\n        if (!isLogin && (formData.password !== confirmPassword)) return setError('Passwords must match');\n\n        try {\n            const user = await (isLogin ? login(formData) : signup(formData));\n            dispatch( updateUser(user) );\n            return history.push(routes.STORE);\n        } catch (status) {\n            switch (status) {\n                case 401:\n                    return setError('Ivalid credentials');\n                case 409:\n                    return setError('Username not available');\n                default:\n                    setError('Something went wrong');\n            }    \n        }\n    }\n\n    return <div className=\"Login\">\n        <h1 className=\"heading\">{isLogin ? 'Log in' : 'Sign up'}</h1>\n        <div className=\"error\">{error}</div>\n        <div className=\"prompt\">Please submit your credentials below</div>\n        <form onSubmit={onSubmit} autoComplete=\"off\">\n            <input type=\"text\" required name=\"username\" placeholder=\"username\" onChange={onChange} />\n            <input type=\"password\" required name=\"password\" placeholder=\"password\" onChange={onChange} />\n            {!isLogin && <input type=\"password\" required name=\"confirmPassword\" placeholder=\"confirm password\" onChange={e => setConfirmPassword(e.currentTarget.value)} />}\n            <button>Submit</button>\n        </form>\n\n        <style>{`\n            .Login form {\n                width: 15rem;\n            }\n\n            .Login .error {\n                margin-top: .5rem;\n            }\n        `}</style>\n    </div>\n}\n\nexport default Layout(Login);\n","import { ListItemTypes, Order } from '../types';\nimport { colors } from '../styles';\nimport { ListTypes, listItemTitleKeys } from '../store/types';\nimport { useState } from 'react';\nimport { getStoreItem } from '../ajax';\n\n\ninterface Props {\n    item : ListItemTypes;\n    type : ListTypes;\n    setShowCaseItem: React.Dispatch<React.SetStateAction<ListItemTypes>>;\n    setMessage: React.Dispatch<React.SetStateAction<string>>;\n}\n\nconst ListItem = ({ type, item, setShowCaseItem, setMessage }: Props) => {\n    const [titleKey] = useState(listItemTitleKeys[type]);\n\n    return <div className=\"ListItem\">\n        <strong className=\"title\">{item[titleKey as keyof typeof item]}</strong>\n        <table className=\"list-item-details\">\n            <tbody>\n                <tr>\n                    {Object.entries(item)\n                        .filter(([key]) => key !== titleKey)\n                        .map(([key]) => <th key={key}>{key}</th>)\n                    }\n                </tr>\n                <tr>\n                    {Object.entries(item)\n                        .filter(([key]) => key !== titleKey)\n                        .map(([key, val]) => <td key={key}>\n                            {(![null, undefined, ''].includes(val))\n                                ? Array.isArray(val)\n                                    ? (key === \"items\")\n                                        ? (item as Order).items.map(({name, id})=><span className=\"orderItemName\" onClick={async () => {\n                                            const showCaseItem= await  getStoreItem(id);\n                                            if (showCaseItem) {\n                                                setShowCaseItem(showCaseItem as ListItemTypes);\n                                                setMessage(\"\");\n                                            } else setMessage(\"Unable to load item\");\n                                        }}>{name}, </span>)    \n                                        : val.filter(el => el).join(', ')\n                                    : (key ===\"date\") \n                                        ? new Date(val).toLocaleDateString()\n                                        : val.toString()\n                                : 'Not available'\n                            }\n                        </td>\n                    )}\n                </tr>\n            </tbody>\n        </table>\n\n        <style>{`\n            .ListItem .list-item-details {\n                font-family: Arial, Helvetica, sans-serif;\n                border-collapse: collapse;\n                width: 100%;\n            }\n                \n            .ListItem .list-item-details td, .ListItem .list-item-details th {\n                border: 1px solid #ddd;\n                padding: 8px;\n            }\n                \n            .ListItem .list-item-details tr:nth-child(even){ background-color: #f2f2f2; }\n                \n            .ListItem .list-item-details tr:hover { background-color: #ddd; }\n                \n            .ListItem .list-item-details th {\n                padding-top: 12px;\n                padding-bottom: 12px;\n                text-align: left;\n                background-color: ${colors.LIGHTEST};\n                color: white;\n            }\n\n            .ListItem .title {\n                display: block;\n                font-size: 1.35rem;\n                text-decoration: underline;\n                margin-bottom: .25rem;\n                margin-left: .125rem;\n                transition: color 200ms ease-out;\n            }\n\n            .ListItem .title:hover {\n                color: ${colors.DARKEST};\n            }\n\n            .ListItem .orderItemName:hover {\n                cursor: pointer;\n                text-decoration: underline;\n                color: ${colors.LIGHTER};\n\n            }\n        `}</style>\n    </div>\n}\n\nexport default ListItem;\n","import { Location } from 'history';\nimport { User, OrderItem } from './types';\n\n\nexport function capitalize(string : string) {\n    return string[0].toUpperCase() + string.slice(1);\n}\n\nexport function getPathVar(location : Location) {\n    return location.pathname.split(/\\/.*?\\//)[1];\n}\n\nexport const updateCartStorage = (user : User|null, cart : OrderItem[]) => {\n    const carts = JSON.parse( (localStorage.getItem(\"carts\") || '{}') );\n    carts[user ? user.id : 'guest'] = cart;\n    localStorage.setItem(\"carts\", JSON.stringify(carts));\n}\n","import { ListItemTypes, Item, OrderItem, Tag, Store, User } from \"../types\";\nimport { ListTypes, STORE, CHECKOUT, ORDERS, USERS } from \"../store/types\";\nimport ListItem from \"./ListItem\";\nimport { updateCart } from \"../store/actions\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { updateCartStorage } from '../util';\nimport { useState, FormEvent } from 'react';\nimport { deleteUser } from '../ajax';\n\ninterface Props {\n  list: ListItemTypes[];\n  setList?: React.Dispatch<React.SetStateAction<ListItemTypes[]>>;\n  type: ListTypes;\n}\n\nconst List = ({ list, setList, type }: Props) => {\n  const dispatch = useDispatch();\n  const {user, cart} = useSelector((store : Store) => store);\n  const [showCaseItem, setShowCaseItem] = useState<ListItemTypes>(list[0]);\n  const [message, setMessage] = useState(\"\");\n  \n  const addToCart = (e : FormEvent<HTMLFormElement>, item : Item) => {\n    e.preventDefault();\n    const itemToAdd : OrderItem = {\n        ...item,\n        quantity: Number.parseInt(e.currentTarget.quantity?.value) || 1\n    };\n    e.currentTarget.reset();\n    const itemIndexInCart = cart.findIndex(cartItem => cartItem.id === itemToAdd.id);\n\n    if (itemIndexInCart > -1) {\n        cart[itemIndexInCart].quantity += itemToAdd.quantity;\n    } else cart.push(itemToAdd);\n\n    dispatch( updateCart(cart) );\n    updateCartStorage(user, cart);\n    e.currentTarget.children[0].innerHTML = `Added ${itemToAdd.quantity} item${itemToAdd.quantity > 1 ? 's' : ''}`;\n  };\n\n  const adjustCartQuantity = (itemId:number, drop:boolean=false, dropall:boolean=false) => {\n    const cartItem = cart.find(({ id }) => itemId === id);\n    if (!cartItem) return;\n    if (drop) {\n        if (dropall) { cart.splice(cart.findIndex(item => item === cartItem), 1) }\n        else if (cartItem.quantity === 1) {\n            if (window.confirm(\"This will remove the item from your cart\")) {\n                cart.splice(cart.findIndex(item => item === cartItem), 1);\n            }\n        }\n        else cartItem.quantity--;\n    } else cartItem.quantity++;\n\n    dispatch( updateCart(cart) );\n    updateCartStorage(user, cart);\n  }\n\n  const onDeleteUser = (user_ : User) : void => {\n    if (user?.admin && !user_.admin && window.confirm(\"This action cannot be reversed\")) {\n      deleteUser(user_.id)\n        .then(() => {\n          setMessage(`Deleted user \"${user_.username}\"`);\n          setList && setList(list.filter(listItem => listItem !== user_));\n        })\n        .catch(() => setMessage(`Failed to delete user \"${user_.username}\"`))\n    }\n  }\n\n  return (\n    <div className=\"List\">\n        {message && <div className=\"error\">{message}</div>}\n        {!list.length\n            ? (type !== CHECKOUT) ? <div>No items found</div> : null\n            : <ul>\n                {( ((type === ORDERS) && (showCaseItem && showCaseItem !== list[0])) ? [showCaseItem, ...list] : list).map((item) =>\n                    <li key={item.id}>\n                        {[STORE, CHECKOUT].includes(type) && <img src={(item as Item).img} alt=\"store item\" />}\n\n                        <ListItem key={item.id} type={type} setMessage={setMessage} setShowCaseItem={setShowCaseItem} item={  Object.entries(item)\n                            .reduce((acc, [key, val]) =>\n                                [(![USERS, ORDERS].includes(type) && 'id'), (!user?.admin && 'userID'), 'stripeToken', 'img', 'password'].includes(key)\n                                    ? acc\n                                    : ({ ...acc, [key]: (key === 'tags')\n                                        ? val.map(({ name } : Tag) => name)\n                                        : (key === 'price') ? `$${val}` : val }),\n                            {}) as ListItemTypes} \n                        />\n                        \n                        {type === STORE &&\n                            <form className=\"adjust-cart-store\" onSubmit={e => addToCart(e, item as Item)}>\n                                <div className=\"success\"></div>\n                                <input\n                                    type=\"number\"\n                                    name=\"quantity\"\n                                    placeholder=\"quantity\"\n                                    min={1}\n                                    required\n                                    onClick={e => {\n                                        const form = e.currentTarget.parentElement;\n                                        if (form) form.children[0].innerHTML = '';\n                                    }}\n                                />\n                                <button>ADD TO CART</button>\n                            </form>\n                        }\n\n                        {type === CHECKOUT &&\n                            <div className=\"adjust-cart-checkout\">\n                                <button style={{ backgroundColor: 'turquoise' }} onClick={() => adjustCartQuantity(item.id)}>+</button>\n                                <button style={{ backgroundColor: 'red' }} onClick={() => adjustCartQuantity(item.id, true)}>-</button>\n                                <button onClick={() => adjustCartQuantity(item.id, true, true)}>Drop All</button>\n                            </div>\n                        }\n\n                        {(type === USERS && !(item as User).admin) &&\n                            <button className=\"btn-delete-user\" onClick={() => onDeleteUser(item as User)}>Delete</button>\n                        }\n                    </li>\n                )}\n            </ul>\n        }\n\n        <style>{`\n            .List {\n                margin: 1.5rem 1rem;\n            }\n\n            .List > ul {\n                flex-direction: column;\n                align-items: flex-start;\n                justify-content: flex-start;\n                width: calc(100vw - 4rem);\n                gap: 2.5rem;\n            }\n\n            .List > ul > li {\n                display: grid;\n                grid-template-columns: 1fr 100fr 1fr;\n                gap: 2rem;\n                align-items: center;\n                margin: 0 1rem 0 .5rem;\n            }\n\n            .List .adjust-cart-store button, .List .adjust-cart-checkout button {\n                width: 91.25%;\n                white-space: nowrap;\n                transition: transform 125ms ease-out;\n                border-radius: 10px;\n            }\n\n            .List .adjust-cart-checkout {\n                display: flex;\n            }\n\n            .List .adjust-cart-checkout button:hover { \n                transform: translateY(-.2rem);\n            }\n\n            .List .adjust-cart-checkout button:active {\n                transform: translateY(-.05rem);\n            }\n\n            .List .btn-delete-user {\n                background-color: red;\n                color: white;\n                width: 4rem;\n                text-align: center;\n            }\n\n            .List .btn-delete-user:hover {\n                box-shadow: inset 2px 1px maroon;\n            }\n\n            .List .error {\n                font-size: 1.25rem;\n                margin-bottom: 1rem;\n                text-align: center;\n            }\n        `}</style>\n    </div>\n  );\n};\n\nexport default List;\n","import { KeyboardEvent } from \"react\";\nimport { Tag } from '../types';\n\ntype Props = {\n    handlers : {\n        pageUp() : void;\n        pageDown() : void;\n        filter(event : { currentTarget: HTMLSelectElement; }) : void;\n        search(event: KeyboardEvent<HTMLInputElement> ) : void;\n        limit(event: { currentTarget: HTMLSelectElement; }) : void;\n        sort(event: { currentTarget: HTMLSelectElement; }) : void;\n    };\n    tags: Tag[];\n    top: boolean;\n    showPageButtons: { pageUp : boolean; pageDown : boolean };\n};\n\nconst SearchBar = ({handlers, tags, top, showPageButtons} : Props) => {\n    return <div className=\"SearchBar\">\n        {top && \n        <span>\n            <select className=\"filter\" defaultValue=\"default\" onChange={handlers.filter}>\n                <option key={0} value=\"default\" disabled>Filter by</option>\n                <option key=\"any\" value=\"any\">Any</option>\n                {tags.map(tag => <option key={tag.id} value={tag.name}>{tag.name}</option>)}\n            </select>\n            <input type=\"text\" className=\"search\" placeholder=\"What would you like to see?\" onKeyDown={handlers.search} />\n            <select className=\"limit\" onChange={handlers.limit}>\n                <option value=\"10\">10</option>\n                <option value=\"25\">25</option>\n                <option value=\"50\">50</option>\n            </select>\n            <select className=\"sort\" defaultValue=\"default\" onChange={handlers.sort}>\n                <option value=\"default\" disabled>Sort by</option>\n                <option value=\"relevance\">Relevance</option>\n                <option value=\"price_asc\">Price Ascending</option>\n                <option value=\"price_desc\">Price Descending</option>\n                <option value=\"name_asc\">Name Ascending</option>\n                <option value=\"name_desc\">Name Descending</option>\n            </select>\n        </span>}\n        {showPageButtons.pageDown && <button onClick={handlers.pageDown}>Previous Page</button>}\n        {showPageButtons.pageUp && <button onClick={handlers.pageUp}>Next Page</button>}\n    </div>\n}\n\nexport default SearchBar;","import { useState, useEffect, KeyboardEvent } from 'react';\nimport Layout from '../layout';\nimport { STORE, ORDERS, USERS } from '../../store/types';\nimport { useSelector } from 'react-redux';\nimport { Store } from '../../types';\nimport List from '../List';\nimport SearchBar from '../SearchBar';\nimport { getOrders, getStoreItems, getUsers, getTags } from '../../ajax';\nimport { ListItemTypes, ItemSearchQueryParams, Tag } from '../../types';\nimport { RouteComponentProps } from 'react-router-dom';\nimport { routes } from '../../resources';\n\ninterface Props extends RouteComponentProps {\n    type : typeof STORE | typeof ORDERS | typeof USERS;\n}\n\nconst ListDisplay = ({ type, history } : Props) => {\n    const user = useSelector(({ user } : Store) => user);\n    const [listItems, setListItems] = useState<ListItemTypes[]>([]);\n    const [heading, setHeading] = useState<string>('Store');\n    const [prompt, setPrompt] = useState<string>('Store');\n    const [search, setSearch] = useState<ItemSearchQueryParams>({ page: 0, quantity: 10 });\n    const [tags, setTags] = useState<Tag[]>([]);\n    const [showPageButtons, setShowPageButtons] = useState<{pageUp:boolean;pageDown:boolean}>({ pageUp: true, pageDown: false });\n    const [viewAllOrders, setViewAllOrders] = useState<boolean>(true);\n\n    useEffect(() => {\n        (async () => {\n            switch (type) {\n                case STORE:\n                    setHeading('Store');\n                    setPrompt('Browse items in our catalog');\n                    setTags(await getTags());\n                    break;\n                case ORDERS:\n                    if (!user) return history.push(routes.STORE);\n                    setHeading(`${user.admin ? 'All' : 'My'} Orders`);\n                    setPrompt(`View current and past orders for ${user.admin ? 'all accounts' : 'your account'}`);\n                    setListItems(await getOrders(user.admin ? undefined : user.id));\n                    break;\n                case USERS:\n                    if (!user?.admin) return history.push(routes.STORE);\n                    setHeading('Users');\n                    setPrompt('View and manage registered users');\n                    setListItems(await getUsers());\n                    break;\n                default:\n                    return history.push(routes.STORE);\n            }\n        })();\n    }, [type, user, history]);\n\n    useEffect(() => {\n        (type === STORE) && getStoreItems(search)\n            .then(result => {\n                setShowPageButtons({\n                    pageUp: (result.length > search.quantity),\n                    pageDown: (search.page > 0)\n                });\n                setListItems(result.slice(0, Math.min(search.quantity, result.length)));\n            });\n    }, [search, type]);\n\n    const handlers = {\n        pageUp() {\n            setSearch({ ...search, page: search.page+1 });\n        },\n\n        pageDown() {\n            setSearch({ ...search, page: Math.max(0, search.page-1) });\n        },\n\n        filter(event : { currentTarget: HTMLSelectElement; }) {\n                setSearch({ ...search, page: 0, tag: (event.currentTarget.value === \"any\") ? undefined : event.currentTarget.value });\n        },\n\n        search(event: KeyboardEvent<HTMLInputElement>) {\n            if(event.key === 'Enter')\n                setSearch({ ...search, page: 0, text: event.currentTarget.value });\n        },\n\n        limit(event : { currentTarget: HTMLSelectElement; }) {\n            setSearch({ ...search, quantity: Number(event.currentTarget.value), page: 0 });\n        },\n\n        sort(event : { currentTarget: HTMLSelectElement; }) {\n            setSearch({ ...search, page: 0, sortBy: event.currentTarget.value})\n        }\n    }\n\n    const changeOrderView = async () => {\n        if (!user?.admin) return;\n        setListItems(await getOrders(viewAllOrders ? user?.id : undefined))\n        setHeading(`${viewAllOrders ? 'Your' : 'All'} Orders`);\n        setPrompt(`View current and past orders for ${viewAllOrders ? 'your account' : 'all accounts'}`);\n        setViewAllOrders(!viewAllOrders);\n    }\n\n    const searchOrdersByUsername = async (e : KeyboardEvent<HTMLInputElement>) => {\n        const el = e.currentTarget;\n        if (el.style.color === 'red') {\n            el.value = '';\n            el.style.color = 'black';\n            return;\n        }\n        const id = Number.parseInt(el.value);\n\n        if (e.key === 'Enter') {\n            if (id) {\n                setHeading(`Orders for User #${id}`);\n                setPrompt('View current and past orders for this user\\'s account')\n                setListItems(await getOrders(id));\n            } else {\n                el.value = 'Please enter a valid number';\n                el.style.color = 'red';\n            }\n        }\n    }\n\n    return <div className=\"ListDisplay\">\n        <h1 className=\"heading\">{heading}</h1>\n        <div className=\"prompt\">{prompt}</div>\n        {(type === ORDERS && user?.admin) && <>\n            <button onClick={changeOrderView}>{viewAllOrders ? 'View My Orders' : 'View All Orders'}</button>\n            <input type=\"text\" placeholder=\"Search orders by user ID\" onKeyDown={searchOrdersByUsername} />\n        </>}\n        {type === STORE && <SearchBar handlers={handlers} tags={tags} top showPageButtons={showPageButtons} />}\n        <List type={type} list={listItems} setList={setListItems} />\n        {type === STORE && <SearchBar handlers={handlers} tags={tags} top={false} showPageButtons={showPageButtons} />}\n    </div>\n}\n\nexport default Layout(ListDisplay);","export default __webpack_public_path__ + \"static/media/loading.cb238f1e.gif\";","import { useState, useEffect, useRef, FormEvent } from 'react';\nimport loading from \"../images/loading.gif\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { CardElement, useStripe, useElements, Elements } from '@stripe/react-stripe-js';\nimport { chargeCustomerCard } from \"../ajax\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Store, PostableOrder } from '../types';\nimport { colors } from '../styles';\nimport { updateCartStorage } from '../util';\nimport { updateCart } from '../store/actions';\n\nconst CheckoutForm = () => {\n  const { user, cart } = useSelector((store : Store) => store);\n  const stripe = useStripe();\n  const elements = useElements();\n  const [message, setMessage] = useState<string>('');\n  const loadingGIF = useRef<HTMLImageElement>(null);\n  const dispatch = useDispatch();\n\n  const handleSubmit = async (event:FormEvent<HTMLFormElement>) => {\n    // Block native form submission.\n    event.preventDefault();\n    // Prevent submission if stripe is not ready\n    if (!stripe || !elements || !user || !cart.length) return;\n\n    // Get a reference to a mounted CardElement. Elements knows how\n    // to find your CardElement because there can only ever be one of\n    // each type of element. \n    const cardElement = elements.getElement(CardElement);\n    if (!cardElement) return;\n    \n    // Use your card Element with other Stripe.js APIs\n    const { error, paymentMethod } = await stripe.createPaymentMethod({\n        type: 'card',\n        card: cardElement,\n    });\n    if (error) return console.log(error);\n\n    if (paymentMethod?.id) {\n      const formData:PostableOrder = {\n        userID: user.id,\n        stripeToken: paymentMethod.id,\n        items: cart.map(({ id, quantity }) => ({ id, quantity }))\n      };\n      \n      if (loadingGIF.current) loadingGIF.current.style.display = 'inline';\n      chargeCustomerCard(formData)\n        .then(() => {\n          setMessage(\"Order placed successfully\");\n          dispatch( updateCart([]) );\n          updateCartStorage(user, []);\n        })\n        .catch(() => setMessage(\"Could not process payment\"))\n        .finally(() => {\n          //clear card info after submit to prevent duplicate payment\n          cardElement?.clear();\n          if (loadingGIF.current) loadingGIF.current.style.display = 'none'\n        });\n    }\n  }\n    \n  return <div className=\"CheckoutForm\">\n    <form onSubmit={handleSubmit}>\n      <CardElement />\n      <button>Place your order</button>\n      <p style={{ color: colors.LIGHTEST }}>{message}</p>\n      <img ref={loadingGIF} className=\"loading-gif\" src={loading} alt=\"Loading...\" />\n    </form>\n\n    <style>{`\n      .CheckoutForm {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      .CheckoutForm form {\n        margin-top: 20px;\n        width: 400px;\n      }\n\n      .CheckoutForm .loading-gif {\n        display: none;\n        height: 30px;\n        width: 30px;\n      }\n    `}</style>\n  </div>\n}\n\nconst Payment = () => {\n  const [stripePromise] = useState(() => loadStripe('pk_test_51GrsxpDr6Z4R7UKUmoPXHW7swHORfQcKX7XO6D9GqXVuM1qn6m5ywhZmVmFzgxMYD6oHwkJqCneMr4oUXuIzixt4003qzTIOiD'));\n  const cart = useSelector((store : Store) => store.cart);\n  const [subtotal, setSubtotal] = useState<number>(0.00);\n\n  useEffect(() => setSubtotal(cart.reduce((acc, {price, quantity}) => acc + (price * quantity), 0)), [cart]);\n\n  return <div className=\"Payment\">\n    <h2>{cart.length ? `Subtotal: ${subtotal.toFixed(2)}` : 'Cart is empty'}</h2>\n    <Elements stripe={stripePromise}> <CheckoutForm /> </Elements>\n\n    <style>{`\n      .Payment {\n        max-height: 250px;\n        border-radius: 1rem;\n        box-shadow: 0px 5px 5px #ccc;\n        margin: 2rem 3rem 1.75rem 3rem;\n        padding: 40px;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        text-align: center;\n      }\n      \n      .Payment .FormGroup {\n        margin: 0 15px 20px;\n        padding: 0;\n        border-style: none;\n        background-color: #7795f8;\n        will-change: opacity, transform;\n        box-shadow: 0 6px 9px rgba(50, 50, 93, 0.06), 0 2px 5px rgba(0, 0, 0, 0.08),\n          inset 0 1px 0 #829fff;\n        border-radius: 4px;\n      }\n      \n      .Payment .FormRow {\n        display: -ms-flexbox;\n        display: flex;\n        -ms-flex-align: center;\n        align-items: center;\n        margin-left: 15px;\n        border-top: 1px solid #819efc;\n      }\n      \n      .Payment .StripeElement--webkit-autofill {\n        background: transparent !important;\n      }\n      \n      .Payment .StripeElement {\n        width: 100%;\n        padding: .75rem .75rem;\n        border: 1px solid ${colors.GRAYSCALE[4]};\n        border-radius: 15px;\n      }\n    `}</style>\n  </div>\n};\n\n\nexport default Payment;","import Payment from '../Payment';\nimport Layout from '../layout';\nimport List from '../List';\nimport { useSelector } from 'react-redux';\nimport { Store } from '../../types';\nimport { CHECKOUT } from '../../store/types';\nimport { capitalize } from '../../util';\nimport { colors } from '../../styles';\n\nconst Checkout = () => {\n    const { user, cart } = useSelector((store : Store) => store);\n\n    return (\n        <div className=\"Checkout\">\n            <h1 className=\"heading\">{user ? capitalize(user.username) + \"'s\" : 'My'} Cart</h1>\n            <div className=\"prompt\">{cart?.length ? \"Here's what items are in your cart\" : 'Visit the \"Store\" page to add items to your cart!'}</div>\n            <List type={CHECKOUT} list={cart || []} />\n            {user\n              ? <Payment />\n              : <div className=\"msg-unathenticated\">\n                  <div>Log in or make an account to place an order!</div>\n                  <span>Don't worry, the items in your cart will still be there when you do.</span>\n                </div>\n            }\n            <style>{`\n              .Checkout .msg-unathenticated {\n                text-align: center;\n                margin-top: 2.8rem;\n              }\n\n              .Checkout .msg-unathenticated > div {\n                font-weight: bold;\n                color: ${colors.LIGHTER};\n                font-size: 1.5rem;\n                margin-bottom: .85rem;\n              }\n\n              .Checkout .msg-unathenticated span {\n                display: block;\n                font-size: 1.05rem;\n                color: ${colors.LIGHTEST};\n                margin-bottom: 3.5rem;\n              }\n            `}</style>\n        </div>\n    )\n}\n\nexport default Layout(Checkout);\n","import React, { useEffect } from 'react';\nimport './App.sass'; // need to change \"app.sass\" before push \nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { updateUser } from './store/actions';\nimport { Store, User, OrderItem } from './types';\nimport { SIGN_UP, LOG_IN, STORE, ORDERS, USERS } from './store/types';\n\nimport About from './components/pages/About';\nimport Contact from './components/pages/Contact';\nimport Profile from './components/pages/Profile';\nimport Redirect from './components/pages/Redirect';\nimport NotFound from './components/pages/NotFound';\nimport Login from './components/pages/Login';\nimport ListDisplay from './components/pages/ListDisplay';\nimport Checkout from \"./components/pages/Checkout\";\nimport { routes } from './resources';\nimport axios from 'axios';\nimport updateCart from './store/actions/updateCart';\n\nfunction App() {\n  const dispatch = useDispatch();\n  const user = useSelector(({ user }: Store) => user);\n\n  // Re-establish user/auth header on page refresh\n  useEffect(() => {\n    const userString = localStorage.getItem('user');\n    const jwt = localStorage.getItem('jwt');\n\n    if (userString) {\n      const currentUser: User = JSON.parse(userString);\n      dispatch(updateUser(currentUser));\n    }\n\n    if (jwt) axios.defaults.headers.common[\"Authorization\"] = \"Bearer \" + jwt;\n  }, [dispatch]);\n\n  // Re-establish cart on user change/page refresh\n  useEffect(() => {\n   // let carts = JSON.parse( (localStorage.getItem('carts') || '{ guest: [] }') );\n   let json = localStorage.getItem('carts');\n   let carts = json ? JSON.parse(json) : {guest: []};\n    const userCart : OrderItem[] = (user && carts[user.id]) ? carts[user.id] : carts['guest'];\n    dispatch( updateCart(userCart) );\n  }, [user, dispatch]);\n\n  return (\n    <BrowserRouter>\n      <Switch>\n        {/* Perpetual routes */}\n        <Route key={routes.STORE} path={routes.STORE} exact render={() => <ListDisplay type={STORE} />} />\n        <Route key={routes.ABOUT} path={routes.ABOUT} exact component={About} />\n        <Route key={routes.CONTACT} path={routes.CONTACT} exact component={Contact} />\n        <Route key={routes.CHECKOUT} path={routes.CHECKOUT} exact component={Checkout} />\n\n        {user\n          ? // If authenticated\n            [\n              <Route\n                key={routes.CHECKOUT}\n                path={routes.CHECKOUT}\n                exact\n                component={Checkout}\n              />,\n              <Route\n                key={routes.ORDERS}\n                path={routes.ORDERS}\n                exact\n                render={() => <ListDisplay type={ORDERS} />}\n              />,\n              <Route\n                key={routes.PROFILE}\n                path={routes.PROFILE}\n                exact\n                component={Profile}\n              />,\n            ]\n          : // Else\n            [\n              <Route\n                key={routes.SIGN_UP}\n                path={routes.SIGN_UP}\n                exact\n                render={() => <Login type={SIGN_UP} />}\n              />,\n              <Route\n                key={routes.LOG_IN}\n                path={routes.LOG_IN}\n                exact\n                render={() => <Login type={LOG_IN} />}\n              />,\n            ]}\n\n        {user?.admin && [\n          <Route\n            key={routes.USERS}\n            path={routes.USERS}\n            exact\n            render={() => <ListDisplay type={USERS} />}\n          />,\n        ]}\n\n        {/* Redirect any valid route inputs to Home, invalid to 404 */}\n        {Object.values(routes).map(route => <Route key={route} path={route} exact component={Redirect} />)}\n        <Route path={routes.STORE} component={NotFound} />\n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { Action } from '../../types';\nimport { UPDATE_USER } from '../types';\n\nconst user = (state=null, { type, payload } : Action) => {\n    switch (type) {\n        case UPDATE_USER:\n            return payload;\n        default:\n            return state;\n    }\n}\n\nexport default user;","import { Action } from '../../types';\nimport { UPDATE_CART } from '../types';\n\nconst cart = (state=[], { type, payload } : Action) => {\n   if (!payload) return [...state];\n    switch (type) {\n        case UPDATE_CART:\n            return [...payload];\n        default:\n            return [...state];\n    }\n}\n\nexport default cart;","import { combineReducers } from \"redux\";\nimport user from './user';\nimport cart from './cart';\n\nexport default combineReducers({ user, cart });","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport { createStore } from 'redux';\nimport reducer from './store/reducers';\n\nconst store = createStore(reducer);\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}