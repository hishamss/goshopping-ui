(this["webpackJsonpp1-ui"]=this["webpackJsonpp1-ui"]||[]).push([[0],{45:function(e,n,t){},46:function(e,n,t){},70:function(e,n,t){"use strict";t.r(n);var r,c=t(0),a=t(1),s=t.n(a),o=t(21),i=t.n(o),l=(t(45),t(46),t(4)),u=t(7),d=t(9),j=t(15),b="UPDATE_USER",p="LOG_IN",m="USERS",h="STORE",O="ORDERS",x=(r={},Object(j.a)(r,O,"id"),Object(j.a)(r,h,"title"),Object(j.a)(r,m,"username"),r),f=function(e){return{type:b,payload:e}},v=t(11),g=new URL("http://localhost:4321/api"),N={HOME:"/",ABOUT:"/about",CONTACT:"/contact",PAYMENT:"/payment",PROFILE:"/profile",SIGN_UP:"/signup",LOG_IN:"/login",ORDERS:"/orders",STORE:"/items",USERS:"/users"},y=Object.entries({LOG_IN:"/login",ORDER:"/order",USER:"/user",ITEM:"/item",TAG:"/tags"}).reduce((function(e,n){return Object(v.a)(Object(v.a)({},e),{},Object(j.a)({},n[0],g+n[1]))}),{}),w="red",S="#ff2900",E="tomato",k="#ff9000",L=["#111","#333","#666","#999","#e4e4e4","white"],P=function(){var e=Object(d.c)((function(e){return e.user}));return Object(c.jsxs)("nav",{children:[Object(c.jsxs)("ul",{children:[Object(c.jsxs)("li",{children:[" ",Object(c.jsx)(l.c,{to:N.HOME,exact:!0,activeClassName:"selected",children:"Home"})," "]}),Object(c.jsxs)("li",{children:[" ",Object(c.jsx)(l.c,{to:N.STORE,exact:!0,activeClassName:"selected",children:"Store"})," "]}),e&&Object(c.jsxs)("li",{children:[" ",Object(c.jsxs)(l.c,{to:N.ORDERS,exact:!0,activeClassName:"selected",children:[!e.admin&&"My ","Orders"]})," "]}),(null===e||void 0===e?void 0:e.admin)&&Object(c.jsxs)("li",{children:[" ",Object(c.jsx)(l.c,{to:N.USERS,exact:!0,activeClassName:"selected",children:"Users"})," "]}),Object(c.jsxs)("li",{children:[" ",Object(c.jsx)(l.c,{to:N.ABOUT,exact:!0,activeClassName:"selected",children:"About"})," "]}),Object(c.jsxs)("li",{children:[" ",Object(c.jsx)(l.c,{to:N.CONTACT,exact:!0,activeClassName:"selected",children:"Contact"})," "]}),Object(c.jsxs)("li",{children:[" ",Object(c.jsx)(l.c,{to:N.PAYMENT,exact:!0,activeClassName:"selected",children:"Payment"})," "]})]}),Object(c.jsx)("style",{children:"\n            nav a {\n                color: ".concat(L[5],";\n                outline: none;\n                user-select: none;\n                font-size: 1.25rem;\n            }\n\n            nav .selected {\n                color: ").concat(k,";\n            }\n\n            nav a:hover, nav a:focus {\n                color: ").concat(E,";\n            }\n\n            nav a:active {\n                color: ").concat(S,";\n            }\n        ")})]})},R=function(e){var n=e.to,t=void 0===n?"/":n,r=Object(u.f)();return Object(a.useEffect)((function(){return r.push(t)})),Object(c.jsx)(c.Fragment,{})},C=t(2),M=t.n(C),T=t(5),I=t(8),A=t.n(I),q=t(38);function U(e){return D.apply(this,arguments)}function D(){return(D=Object(T.a)(M.a.mark((function e(n){var t,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.post(y.USER,n);case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.t0.response.status;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function F(e){return _.apply(this,arguments)}function _(){return(_=Object(T.a)(M.a.mark((function e(n){var t,r,c,a,s;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.post(y.LOG_IN,n);case 3:return t=e.sent,r=t.data.jwt,c=Object(q.a)(r),a=JSON.parse(c.auth),s=Object(v.a)(Object(v.a)({},a),{},{username:n.username}),sessionStorage.setItem("user",JSON.stringify(s)),sessionStorage.setItem("jwt",r),A.a.defaults.headers.common.Authorization="Bearer "+r,e.abrupt("return",s);case 14:throw e.prev=14,e.t0=e.catch(0),console.log(e.t0),e.t0.response.status;case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function G(e){return X.apply(this,arguments)}function X(){return(X=Object(T.a)(M.a.mark((function e(n){var t,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.put(y.EDIT_PASSWORD,n);case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),new Error("Error updating password");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function z(e){return H.apply(this,arguments)}function H(){return(H=Object(T.a)(M.a.mark((function e(n){var t,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A()({url:y.ITEM,params:n});case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function B(e){return W.apply(this,arguments)}function W(){return(W=Object(T.a)(M.a.mark((function e(n){var t,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get(y.ORDER+(n?"?uid=".concat(n):""));case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function J(){return V.apply(this,arguments)}function V(){return(V=Object(T.a)(M.a.mark((function e(){var n,t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get(y.USER);case 3:return n=e.sent,t=n.data,e.abrupt("return",Array.isArray(t)?t:[]);case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function Y(e){return K.apply(this,arguments)}function K(){return(K=Object(T.a)(M.a.mark((function e(n){var t,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.post(y.ORDER,n);case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var Z=function(){var e=Object(d.b)(),n=Object(d.c)((function(e){return e.user}));return Object(c.jsxs)("div",{className:"NavLogin",children:[Object(c.jsx)("ul",{children:n?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("li",{className:"profile",children:[" ",Object(c.jsx)(l.c,{to:N.PROFILE,children:"My Profile"})," "]},"profile"),Object(c.jsxs)("li",{children:[" ",Object(c.jsx)("button",{onClick:function(){return sessionStorage.removeItem("user"),sessionStorage.removeItem("jwt"),delete A.a.defaults.headers.common.Authorization,e(f(null)),Object(c.jsx)(R,{})},children:"Log out"})," "]},"logout")]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("li",{children:Object(c.jsx)(l.c,{to:N.SIGN_UP,exact:!0,activeClassName:"selected",children:"Sign up"})},"signup"),Object(c.jsx)("li",{children:Object(c.jsx)(l.c,{to:N.LOG_IN,exact:!0,activeClassName:"selected",children:"Log in"})},"login")]})}),Object(c.jsx)("style",{children:"\n            .NavLogin ul {\n                gap: 1.25rem;\n                height: 0;\n            }\n\n            .NavLogin a, .NavLogin button {\n                background-color: ".concat(E,";\n                border: none;\n                border-radius: 15px;\n                padding: .5rem .95rem;\n                cursor: pointer;\n                color: ").concat(L[5],";\n                font-size: .95rem;\n                outline: none;\n                user-select: none;\n            }\n\n            .NavLogin button {\n                padding: .57rem .95rem;\n            }\n\n            .NavLogin .selected {\n                background-color: ").concat(S,";\n            }\n            \n            .NavLogin a:hover, .NavLogin a:focus, .NavLogin button:hover, .NavLogin button:focus {\n                background-color: ").concat(k,";\n            }\n\n            .NavLogin a:active, .NavLogin button:active {\n                background-color: ").concat(w,";\n            }\n\n            .NavLogin .profile a {\n                background-color: transparent;\n                color: ").concat(k,";\n                font-weight: 500;\n                font-size: 1rem;\n            }\n\n            .NavLogin .profile a:hover, .NavLogin .profile a:focus {\n                color: ").concat(E,";\n            }\n\n            .NavLogin .profile a:active {\n                color: ").concat(S,";\n            }\n\n            .NavLogin .profile a {\n                background-color: transparent;\n                color: ").concat(k,";\n                font-weight: 500;\n                font-size: 1rem;\n            }\n\n            .NavLogin .profile a:hover, .NavLogin .profile a:focus {\n                color: ").concat(E,";\n            }\n\n            .NavLogin .profile a:active {\n                color: ").concat(S,";\n            }\n        ")})]})},Q=t(6),$=function(){var e=Object(a.useState)(!1),n=Object(Q.a)(e,2),t=n[0],r=n[1],s=Object(a.useRef)(null),o=Object(a.useRef)(null),i=Object(d.c)((function(e){return e.user}));return Object(a.useEffect)((function(){(null===s||void 0===s?void 0:s.current)&&(null===o||void 0===o?void 0:o.current)&&[s.current,o.current].forEach((function(e){return t?e.classList.add("nav-open"):e.classList.remove("nav-open")}))}),[t]),Object(c.jsxs)("div",{className:"MobileNav",children:[Object(c.jsx)("div",{className:"hamburger",ref:s}),Object(c.jsx)("span",{className:"hamburger-click-region",onClick:function(){return r(!t)}}),Object(c.jsxs)("ul",{ref:o,children:[Object(c.jsxs)("li",{children:[" ",Object(c.jsx)(l.c,{to:N.HOME,exact:!0,activeClassName:"selected",children:"Home"})," "]}),Object(c.jsxs)("li",{children:[" ",Object(c.jsx)(l.c,{to:N.STORE,exact:!0,activeClassName:"selected",children:"Store"})," "]}),i&&Object(c.jsxs)("li",{children:[" ",Object(c.jsxs)(l.c,{to:N.ORDERS,exact:!0,activeClassName:"selected",children:[!i.admin&&"My ","Orders"]})," "]}),(null===i||void 0===i?void 0:i.admin)&&Object(c.jsxs)("li",{children:[" ",Object(c.jsx)(l.c,{to:N.USERS,exact:!0,activeClassName:"selected",children:"Users"})," "]}),Object(c.jsxs)("li",{children:[" ",Object(c.jsx)(l.c,{to:N.ABOUT,exact:!0,activeClassName:"selected",children:"About"})," "]}),Object(c.jsxs)("li",{children:[" ",Object(c.jsx)(l.c,{to:N.CONTACT,exact:!0,activeClassName:"selected",children:"Contact"})," "]})]}),Object(c.jsx)("style",{children:"\n                .MobileNav .hamburger, .MobileNav .hamburger-click-region {\n                    position: absolute;\n                    left: 1.5rem;\n                    top: 2.45rem;\n                }\n\n                .MobileNav .hamburger,\n                .MobileNav .hamburger::before,\n                .MobileNav .hamburger::after {\n                    width: 1.725rem;\n                    height: 2.25px;\n                    background-color: ".concat(L[5],";\n                    transition: transform 250ms ease-in-out,\n                                opacity 250ms ease-in-out;\n                }\n\n                .MobileNav .hamburger::before,\n                .MobileNav .hamburger::after {\n                    content: '';\n                    position: absolute;\n                    left: 0;\n                    bottom: 6px;\n                }\n\n                .MobileNav .hamburger::after {\n                    top: 6px;\n                }\n\n                .MobileNav .hamburger-click-region {\n                    height: 21px;\n                    width: 2rem;\n                    cursor: pointer;\n                    top: 1.5rem;\n                }\n\n                .MobileNav .nav-open.hamburger {\n                    transform: rotate(45deg);\n                }\n\n                .MobileNav .nav-open.hamburger::before {\n                    opacity: 0;\n                }\n\n                .MobileNav .nav-open.hamburger::after {\n                    transform: rotate(90deg) translateX(-5.5px);\n                }\n\n                .MobileNav ul {\n                    flex-direction: column;\n                    gap: 0;\n                    align-items: flex-start;\n                    background-color: ").concat(L[0],";\n                    position: absolute;\n                    bottom: 0;\n                    left: 0;\n                    z-index: -1;\n                    padding: 20rem 7.9rem 1.1rem 1rem;\n                    transition: bottom 300ms ease-out;\n                    border-radius: 12px;\n                }\n\n                .MobileNav ul.nav-open {\n                    bottom: ").concat(i?i.admin?-14.7:-12.6:-10.6,"rem;\n                }\n\n                .MobileNav li {\n                    margin: .5rem;\n                    position: relative;\n                    white-space: nowrap;\n                }\n\n                .MobileNav li a {\n                    color: ").concat(k,";\n                    outline: none;\n                    user-select: none;\n                }\n    \n                .MobileNav .selected {\n                    color: ").concat(L[5],";\n                }\n    \n                .MobileNav a:hover, .MobileNav a:focus {\n                    color: ").concat(E,";\n                }\n    \n                .MobileNav a:active {\n                    color: ").concat(S,";\n                }\n\n                .MobileNav li::after {\n                    content: '';\n                    height: 1px;\n                    width: 100%;\n                    position: absolute;\n                    bottom: -4px;\n                    left: 0;\n                    background-color: ").concat(L[5],";\n                }\n            ")})]})},ee=function(){return Object(c.jsxs)("header",{children:[Object(c.jsx)($,{}),Object(c.jsx)("strong",{className:"logo",children:"GoShopping!"}),Object(c.jsx)(P,{}),Object(c.jsx)(Z,{}),Object(c.jsx)("style",{children:"\n            header {\n                background-color: ".concat(L[0],";\n                height: 5rem;\n                color: ").concat(L[5],";\n                display: flex;\n                align-items: center;\n                justify-content: space-around;\n                position: relative;\n            }\n\n            header .logo {\n                color: ").concat(k,";\n                position: absolute;\n                top: 1.85rem;\n                left: .9rem;\n                user-select: none;\n            }\n        ")})]})},ne=function(){return Object(c.jsxs)("footer",{children:[Object(c.jsxs)("span",{children:[Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:"Md Abul Kashem"}),Object(c.jsx)("li",{children:"Nick Barak"}),Object(c.jsx)("li",{children:"Zack Garner"}),Object(c.jsx)("li",{children:"Hisham Saymeh"}),Object(c.jsx)("li",{children:"Vincent Sevilla"}),Object(c.jsx)("li",{children:"Eric Terreri"})]}),Object(c.jsx)("div",{children:"\xa9 2020 Revature"})]}),Object(c.jsx)("style",{children:"\n            footer, footer span {\n                display: flex;\n            }\n\n            footer {\n                justify-content: center;\n                align-items: center;\n                background-color: ".concat(L[1],";\n                color: ").concat(L[5],";\n                text-align: center;\n            }\n\n            footer span {\n                flex-direction: column;\n                gap: .5rem;\n            }\n            \n            footer ul {\n                gap: .65rem;\n                margin-bottom: .25rem;\n            }\n\n            footer div {\n                user-select: none;\n            }\n\n            footer div {\n                user-select: none;\n            }\n        ")})]})},te=function(e){return function(n){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(ee,{}),Object(c.jsxs)("div",{className:"body",children:[" ",Object(c.jsx)(e,Object(v.a)({},n))," "]}),Object(c.jsx)(ne,{})]})}};function re(e){return e[0].toUpperCase()+e.slice(1)}var ce=te((function(){var e=Object(d.c)((function(e){return e.user}));return Object(c.jsxs)("div",{className:"Home",children:[Object(c.jsx)("h1",{className:"heading",children:"Home"}),Object(c.jsx)("div",{className:"prompt",children:e?"Welcome, ".concat(re(e.username),"!"):"Log in or sign up today!"}),Object(c.jsx)("style",{children:"\n        \n        "})]})})),ae=te((function(){return Object(c.jsxs)("div",{className:"About",children:[Object(c.jsx)("h1",{className:"heading",children:"About"}),Object(c.jsx)("div",{className:"prompt",children:"We are a generic ecommerce company!"}),Object(c.jsxs)("section",{children:[Object(c.jsx)("label",{children:Object(c.jsx)("strong",{children:"Who We Are"})}),Object(c.jsx)("div",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolores facilis aliquid consectetur, similique vero quos, totam nihil cum harum blanditiis tempore ab quam quasi eum! Ullam reprehenderit impedit quasi voluptate facilis ipsa sit! Ad, odit cupiditate. Aliquid, deleniti. Ea velit minus at voluptatibus deleniti exercitationem ducimus laudantium quasi ipsa reiciendis!"})]}),Object(c.jsxs)("section",{children:[Object(c.jsx)("label",{children:Object(c.jsx)("strong",{children:"What We Do"})}),Object(c.jsx)("div",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolores facilis aliquid consectetur, similique vero quos, totam nihil cum harum blanditiis tempore ab quam quasi eum! Ullam reprehenderit impedit quasi voluptate facilis ipsa sit! Ad, odit cupiditate. Aliquid, deleniti. Ea velit minus at voluptatibus deleniti exercitationem ducimus laudantium quasi ipsa reiciendis!"})]}),Object(c.jsxs)("section",{children:[Object(c.jsx)("label",{children:Object(c.jsx)("strong",{children:"Our Plans for the Future"})}),Object(c.jsx)("div",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolores facilis aliquid consectetur, similique vero quos, totam nihil cum harum blanditiis tempore ab quam quasi eum! Ullam reprehenderit impedit quasi voluptate facilis ipsa sit! Ad, odit cupiditate. Aliquid, deleniti. Ea velit minus at voluptatibus deleniti exercitationem ducimus laudantium quasi ipsa reiciendis!"})]}),Object(c.jsx)("style",{children:"\n            .About section {\n                margin-bottom: 1rem;\n            }\n        "})]})})),se=te((function(){return Object(c.jsxs)("div",{className:"Contact",children:[Object(c.jsx)("h1",{className:"heading",children:"Contact"}),Object(c.jsx)("div",{className:"prompt",children:"Feel free to reach out to our staff!"}),Object(c.jsxs)("ul",{children:[Object(c.jsxs)("li",{children:[Object(c.jsx)("strong",{children:"email: "}),Object(c.jsx)("span",{children:"hr@goshopping.com"})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("strong",{children:"phone: "}),Object(c.jsx)("span",{children:"(XXX) XXX-XXXX"})]})]}),Object(c.jsx)("style",{children:"\n            .Contact ul {\n                flex-direction: column;\n                width: 15rem;\n                align-items: flex-start;\n            }\n        "})]})})),oe=te((function(){var e=Object(d.c)((function(e){return e.user})),n=Object(a.useState)({changingPassword:!1,currentPassword:"",newPassword:"",confirmNewPassword:""}),t=Object(Q.a)(n,2),r=t[0],s=t[1],o=Object(a.useState)(""),i=Object(Q.a)(o,2),l=i[0],u=i[1],b=Object(a.useState)(!1),p=Object(Q.a)(b,2),m=p[0],h=p[1],O=Object(a.useRef)(null);if(Object(a.useEffect)((function(){(null===O||void 0===O?void 0:O.current)&&(O.current.style.backgroundColor=m?E:L[1])}),[m]),!e)return Object(c.jsx)(R,{});var x=function(e){return s(Object(v.a)(Object(v.a)({},r),{},Object(j.a)({},e.currentTarget.name,e.currentTarget.value)))},f=function(){var e=Object(T.a)(M.a.mark((function e(n){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r.newPassword===r.confirmNewPassword){e.next=3;break}return e.abrupt("return",u("Passwords must match"));case 3:return e.prev=3,e.next=6,G({oldPass:r.currentPassword,newPass:r.newPassword});case 6:u(""),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),u(e.t0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(n){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"Profile",children:[Object(c.jsxs)("h1",{className:"heading",children:[e&&re(e.username),e&&(e.username.endsWith("s")?"' ":"'s "),"Profile"]}),Object(c.jsx)("div",{className:"prompt",children:"View and edit your account information here"}),Object(c.jsx)("div",{className:"error",children:l}),Object(c.jsxs)("section",{children:[Object(c.jsx)("button",{className:"button",ref:O,onClick:function(){return h(!m)},children:"Change Password"}),m&&Object(c.jsxs)("form",{onSubmit:f,children:[Object(c.jsx)("input",{type:"password",required:!0,name:"currentPassword",placeholder:"username",onChange:x}),Object(c.jsx)("input",{type:"password",required:!0,name:"newPassword",placeholder:"new password",onChange:x}),Object(c.jsx)("input",{type:"password",required:!0,name:"confirmNewPassword",placeholder:"confirm new password",onChange:x}),Object(c.jsx)("button",{children:"Submit"})]})]}),Object(c.jsx)("style",{children:"\n                .Profile .button {\n                    padding: .6rem .8rem;\n                    font-size: .9rem;\n                    margin-bottom: 1.25rem;\n                }\n\n                .Profile form {\n                    width: 15rem;\n                    margin-bottom: 2rem;\n                }\n    \n                .Profile .error {\n                    margin-top: .5rem;\n                }\n            "})]})})),ie=te((function(){return Object(c.jsxs)("div",{className:"NotFound",children:[Object(c.jsx)("h1",{className:"heading",children:"Not Found"}),Object(c.jsx)("div",{className:"prompt",children:"We're sorry! This page doesn't exist."}),Object(c.jsx)(l.b,{to:N.HOME,children:"Back to Home"}),Object(c.jsx)("style",{children:"\n            .NotFound .prompt {\n                margin-bottom: 1.45rem;\n            }\n\n            .NotFound a {\n                background-color: ".concat(E,";\n                border: none;\n                border-radius: 15px;\n                padding: .5rem .95rem;\n                cursor: pointer;\n                color: ").concat(L[5],";\n                font-size: .95rem;\n                outline: none;\n            }\n\n            .NotFound .selected {\n                background-color: ").concat(S,";\n            }\n            \n            .NotFound a:hover, .NotFound a:focus {\n                background-color: ").concat(k,";\n            }\n\n            .NotFound a:active {\n                background-color: ").concat(w,";\n            }\n        ")})]})})),le=te((function(e){var n=e.type===p,t=Object(d.b)(),r=Object(a.useState)({username:"",password:""}),s=Object(Q.a)(r,2),o=s[0],i=s[1],l=Object(a.useState)(""),u=Object(Q.a)(l,2),b=u[0],m=u[1],h=Object(a.useState)(""),O=Object(Q.a)(h,2),x=O[0],g=O[1],N=function(e){return i(Object(v.a)(Object(v.a)({},o),{},Object(j.a)({},e.currentTarget.name,e.currentTarget.value)))},y=function(){var e=Object(T.a)(M.a.mark((function e(r){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),n||o.password===b){e.next=3;break}return e.abrupt("return",g("Passwords must match"));case 3:return e.prev=3,e.next=6,n?F(o):U(o);case 6:return a=e.sent,t(f(a)),e.abrupt("return",Object(c.jsx)(R,{}));case 11:e.prev=11,e.t0=e.catch(3),e.t1=e.t0,e.next=401===e.t1?16:409===e.t1?17:18;break;case 16:return e.abrupt("return",g("Ivalid credentials"));case 17:return e.abrupt("return",g("Username not available"));case 18:g("Something went wrong");case 19:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(n){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"Login",children:[Object(c.jsx)("h1",{className:"heading",children:n?"Log in":"Sign up"}),Object(c.jsx)("div",{className:"error",children:x}),Object(c.jsx)("div",{className:"prompt",children:"Please submit your credentials below"}),Object(c.jsxs)("form",{onSubmit:y,autoComplete:"off",children:[Object(c.jsx)("input",{type:"text",required:!0,name:"username",placeholder:"username",onChange:N}),Object(c.jsx)("input",{type:"password",required:!0,name:"password",placeholder:"password",onChange:N}),!n&&Object(c.jsx)("input",{type:"password",required:!0,name:"confirmPassword",placeholder:"confirm password",onChange:function(e){return m(e.currentTarget.value)}}),Object(c.jsx)("button",{children:"Submit"})]}),Object(c.jsx)("style",{children:"\n            .Login form {\n                width: 15rem;\n            }\n\n            .Login .error {\n                margin-top: .5rem;\n            }\n        "})]})})),ue=function(e){var n=e.type,t=e.item,r=Object(a.useState)(""),s=Object(Q.a)(r,2),o=s[0],i=s[1],u=Object(a.useState)(""),d=Object(Q.a)(u,2),j=d[0],b=d[1];return Object(a.useEffect)((function(){switch(n){case m:b(x[n]),i(N.USERS);break;case h:b(x[n]),i(N.STORE);break;case O:b(x[n]),i(N.ORDERS);break;default:return}}),[n]),Object(c.jsxs)("div",{className:"ListItem",children:[Object(c.jsx)(l.b,{to:"".concat(o,"/").concat(t.id),children:Object(c.jsx)("strong",{children:t[j]})}),Object(c.jsx)("table",{className:"list-item-details",children:Object(c.jsxs)("tbody",{children:[Object(c.jsx)("tr",{children:Object.entries(t).filter((function(e){return Object(Q.a)(e,1)[0]!==j})).map((function(e){var n=Object(Q.a)(e,1)[0];return Object(c.jsx)("td",{children:n},n)}))}),Object(c.jsx)("tr",{children:Object.entries(t).filter((function(e){return Object(Q.a)(e,1)[0]!==j})).map((function(e){var n=Object(Q.a)(e,2),t=n[0],r=n[1];return Object(c.jsx)("td",{children:r.toString()},t)}))})]})}),Object(c.jsx)("style",{children:"\n                .ListItem {\n                    box-shadow: 1px 1px 1px ".concat(L[1],";\n                    background-color: ").concat(L[4],";\n                    padding: .35rem .65rem .75rem .65rem;\n                    width: 100%;\n                    border-radius: 6px;\n                }\n                \n                .ListItem a {\n                    color: ").concat(L[0],";\n                    font-size: 1.15rem;\n                    text-decoration: underline;\n                    outline: none;\n                }\n\n                .ListItem a:hover, .ListItem a:focus {\n                    color: ").concat(E,";\n                }\n\n                .ListItem a:active {\n                    color: ").concat(S,";\n                }\n\n                .ListItem ul {\n                    margin-top: .75rem;\n                    background-color: transparent;\n                    flex-direction: column;\n                    align-items: flex-start;\n                    justify-content: flex-start;\n                    gap: .4rem;\n                }\n            ")})]},t.id)},de=function(e){var n=e.list,t=e.type;return Object(c.jsxs)("div",{className:"List",children:[Object(c.jsx)("div",{children:!n.length&&"No items found"}),Object(c.jsxs)("ul",{children:[" ",n.map((function(e){return Object(c.jsxs)("li",{children:[" ",Object(c.jsx)(ue,{type:t,item:e},e.id)," "]},e.id)}))," "]}),Object(c.jsx)("style",{children:"\n                .List {\n                    margin: 1.5rem 1rem;\n                }\n\n                .List > ul {\n                    margin: auto;\n                    flex-direction: column;\n                    align-items: flex-start;\n                    justify-content: flex-start;\n                    width: 78vw;\n                    gap: 1rem;\n                }\n\n                .List > ul > li {\n                    background-color: ".concat(L[3],";\n                    padding: .4rem .45rem;\n                    box-shadow: 2px 2px 3px 1px ").concat(L[1],";\n                    display: flex;\n                    justify-content: center;\n                    align-items: center;\n                    border-radius: 7px;\n                    width: 100%;\n                }\n            ")})]})},je=te((function(e){var n=e.type,t=Object(d.c)((function(e){return e.user})),r=Object(a.useState)([]),s=Object(Q.a)(r,2),o=s[0],i=s[1],l=Object(a.useState)("Store"),u=Object(Q.a)(l,2),j=u[0],b=u[1],p=Object(a.useState)("Store"),x=Object(Q.a)(p,2),f=x[0],v=x[1];return Object(a.useEffect)((function(){Object(T.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n,e.next=e.t0===h?3:e.t0===O?11:e.t0===m?21:31;break;case 3:return b("Store"),v("Browse items in our catalog"),e.t1=i,e.next=8,z();case 8:return e.t2=e.sent,(0,e.t1)(e.t2),e.abrupt("break",32);case 11:if(t){e.next=13;break}return e.abrupt("return",Object(c.jsx)(R,{}));case 13:return b("My Orders"),v("View current and past orders for your account"),e.t3=i,e.next=18,B(t.id);case 18:return e.t4=e.sent,(0,e.t3)(e.t4),e.abrupt("break",32);case 21:if(null===t||void 0===t?void 0:t.admin){e.next=23;break}return e.abrupt("return",Object(c.jsx)(R,{}));case 23:return b("Users"),v("View and manage registered users"),e.t5=i,e.next=28,J();case 28:return e.t6=e.sent,(0,e.t5)(e.t6),e.abrupt("break",32);case 31:return e.abrupt("return",Object(c.jsx)(R,{}));case 32:case"end":return e.stop()}}),e)})))()}),[n,t]),Object(c.jsxs)("div",{className:"ListDisplay",children:[Object(c.jsx)("h1",{className:"heading",children:j}),Object(c.jsx)("div",{className:"prompt",children:f}),Object(c.jsx)(de,{list:o,type:n})]})})),be=t(39),pe=t(19),me=function(){var e=Object(pe.useStripe)(),n=Object(pe.useElements)(),t=Object(a.useRef)(null),r=Object(a.useState)(),s=Object(Q.a)(r,2),o=s[0],i=s[1],l=function(){var r=Object(T.a)(M.a.mark((function r(c){var a,s,o,l,u,d;return M.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(c.preventDefault(),i({status:""}),e&&n){r.next=4;break}return r.abrupt("return");case 4:if(!(a=n.getElement(pe.CardElement))){r.next=14;break}return r.next=8,e.createPaymentMethod({type:"card",card:a});case 8:if(s=r.sent,o=s.error,l=s.paymentMethod,!o){r.next=13;break}return r.abrupt("return",console.log("[error]",o));case 13:l&&(u=l.id)&&t&&Y({id:u,amount:100*Number(null===(d=t.current)||void 0===d?void 0:d.value)}).then((function(e){return e&&i(e)})).catch(console.log);case 14:case 15:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return Object(c.jsx)("div",{id:"payment_container",children:Object(c.jsxs)("form",{id:"payment_form",onSubmit:l,children:[Object(c.jsx)("input",{ref:t,type:"text",placeholder:"Amount in USD",required:!0}),Object(c.jsx)(pe.CardElement,{}),Object(c.jsx)("button",{children:"Pay"}),Object(c.jsx)("p",{style:{color:"red"},children:null===o||void 0===o?void 0:o.status})]})})},he=te((function(){var e=Object(be.a)("pk_test_51GrsxpDr6Z4R7UKUmoPXHW7swHORfQcKX7XO6D9GqXVuM1qn6m5ywhZmVmFzgxMYD6oHwkJqCneMr4oUXuIzixt4003qzTIOiD");return Object(c.jsxs)("div",{className:"Payment",children:[Object(c.jsxs)(pe.Elements,{stripe:e,children:[" ",Object(c.jsx)(me,{})," "]}),Object(c.jsx)("style",{children:"\n      .Payment #payment_container {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      .Payment #payment_form {\n        margin-top: 20px;\n        width: 400px;\n      }\n\n      .Payment .FormGroup {\n        margin: 0 15px 20px;\n        padding: 0;\n        border-style: none;\n        background-color: #7795f8;\n        will-change: opacity, transform;\n        box-shadow: 0 6px 9px rgba(50, 50, 93, 0.06), 0 2px 5px rgba(0, 0, 0, 0.08),\n          inset 0 1px 0 #829fff;\n        border-radius: 4px;\n      }\n      \n      .Payment .FormRow {\n        display: -ms-flexbox;\n        display: flex;\n        -ms-flex-align: center;\n        align-items: center;\n        margin-left: 15px;\n        border-top: 1px solid #819efc;\n      }\n      \n      .Payment .StripeElement--webkit-autofill {\n        background: transparent !important;\n      }\n      \n      .Payment .StripeElement {\n        width: 100%;\n        padding: 11px 15px 11px 0;\n      }\n    "})]})}));var Oe=function(){var e=Object(d.b)(),n=Object(d.c)((function(e){return e.user}));return Object(a.useEffect)((function(){var n=sessionStorage.getItem("user"),t=sessionStorage.getItem("jwt");if(n){var r=JSON.parse(n);e(f(r))}t&&(A.a.defaults.headers.common.Authorization="Bearer "+t)}),[e]),Object(c.jsx)(l.a,{children:Object(c.jsxs)(u.c,{children:[Object(c.jsx)(u.a,{path:N.HOME,exact:!0,component:ce}),Object(c.jsx)(u.a,{path:N.STORE,exact:!0,render:function(){return Object(c.jsx)(je,{type:h})}},N.STORE),Object(c.jsx)(u.a,{path:N.ABOUT,exact:!0,component:ae},N.ABOUT),Object(c.jsx)(u.a,{path:N.CONTACT,exact:!0,component:se},N.CONTACT),Object(c.jsx)(u.a,{path:N.PAYMENT,exact:!0,component:he},N.PAYMENT),n?[Object(c.jsx)(u.a,{path:N.ORDERS,exact:!0,render:function(){return Object(c.jsx)(je,{type:O})}},N.ORDERS),Object(c.jsx)(u.a,{path:N.PROFILE,exact:!0,component:oe},N.PROFILE)]:[Object(c.jsx)(u.a,{path:N.SIGN_UP,exact:!0,render:function(){return Object(c.jsx)(le,{type:"SIGN_UP"})}},N.SIGN_UP),Object(c.jsx)(u.a,{path:N.LOG_IN,exact:!0,render:function(){return Object(c.jsx)(le,{type:p})}},N.LOG_IN)],(null===n||void 0===n?void 0:n.admin)&&[Object(c.jsx)(u.a,{path:N.USERS,exact:!0,render:function(){return Object(c.jsx)(je,{type:m})}},N.USERS)],Object.values(N).map((function(e){return Object(c.jsx)(u.a,{path:e,exact:!0,component:R},e)})),Object(c.jsx)(u.a,{path:"/",component:ie})]})})},xe=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,71)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,a=n.getLCP,s=n.getTTFB;t(e),r(e),c(e),a(e),s(e)}))},fe=t(18),ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,t=n.type,r=n.payload;switch(t){case b:return r;default:return e}},ge=Object(fe.b)({user:ve}),Ne=Object(fe.c)(ge);i.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(d.a,{store:Ne,children:Object(c.jsx)(Oe,{})})}),document.getElementById("root")),xe()}},[[70,1,2]]]);
//# sourceMappingURL=main.950efe23.chunk.js.map